import{m as V,r as y,p as F,y as $,T as A,C as B,d as a,o as c,b as n,u as i,Z as D,w as d,a as e,e as h,s as M,v as q,F as p,g as N,t as r,i as w,f as u,n as T}from"./app-rFp3DUWb.js";import{_ as L}from"./AppLayout-Cy2iqO0z.js";import{_ as O}from"./ConfirmationModal-DsAS1S-F.js";import{_ as H}from"./FloatButton-DHxKhYNp.js";/* empty css                    */import{r as J}from"./MagnifyingGlassIcon-CHPdLIRt.js";import{r as I}from"./EyeIcon-D_BBxVz2.js";import{r as R}from"./PencilIcon-B49Thg9T.js";import{r as U}from"./TrashIcon-Dq5GWaMi.js";import{r as Z,a as G}from"./ChevronRightIcon-B0tH8hG0.js";import"./Modal-BjRRWiDu.js";import"./PlusIcon-Hj45r85u.js";import"./PrinterIcon-rfuh_9o_.js";const K={class:"font-semibold text-xl text-gray-800 leading-tight"},Q={class:"pt-12"},W={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},X={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-5"},Y={class:"flex items-center space-x-3"},ee={class:"py-12"},te={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},se={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},oe={class:"flex flex-col"},ne={class:"overflow-x-auto"},ie={class:"inline-block min-w-full"},le={class:"overflow-hidden"},re={class:"min-w-full text-left text-sm font-light"},ae=e("thead",{class:"border-b bg-gray-50 font-medium"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-4 text-left"},"Nome / Razão Social"),e("th",{scope:"col",class:"px-6 py-4 text-left"},"CPF / CNPJ"),e("th",{scope:"col",class:"px-6 py-4 text-left"},"E-mail"),e("th",{scope:"col",class:"px-6 py-4 text-left"},"Contatos"),e("th",{scope:"col",class:"px-6 py-4 text-center"},"Ações")])],-1),ce={key:0},de=e("td",{colspan:"5",class:"px-6 py-4 text-center text-gray-500"}," Nenhum cliente encontrado. ",-1),ue=[de],me={class:"whitespace-nowrap px-6 py-4"},fe={class:"font-medium text-gray-900"},xe={key:0,class:"text-xs text-gray-500"},he={class:"whitespace-nowrap px-6 py-4"},pe={class:"whitespace-nowrap px-6 py-4"},ge={class:"whitespace-nowrap px-6 py-4"},_e={class:"whitespace-nowrap px-6 py-4"},ve={class:"flex justify-center items-center space-x-5"},be=["onClick"],ye={key:0,class:"max-w-7xl mx-auto sm:px-6 lg:px-8 pb-12"},we={class:"flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6 mt-6 rounded-lg shadow-xl"},Ce={class:"flex flex-1 justify-between sm:hidden"},ke=["disabled"],$e=["disabled"],Ne={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},Te={class:"text-sm text-gray-700"},je={class:"font-medium"},Ee={class:"font-medium"},Pe={class:"font-medium"},Se={class:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},ze=["disabled"],Ve=e("span",{class:"sr-only"},"Anterior",-1),Fe=["onClick","disabled","innerHTML"],Ae=["disabled"],Be=e("span",{class:"sr-only"},"Próxima",-1),De=["disabled"],Xe={__name:"Index",props:{clients:{type:Object,required:!0},filters:{type:Object,default:()=>({})},page:{type:Object,required:!0}},setup(s){const j=s,C=V.useToast(),m=y(j.filters.search||"");let g=null;F(m,()=>{g&&clearTimeout(g),g=setTimeout(()=>{$.get(route("clients.index"),{search:m.value},{preserveState:!0,replace:!0})},300)});const _=y(!1),f=y(null),v=A({}),E=o=>{f.value=o,_.value=!0},b=()=>{_.value=!1,f.value=null},P=()=>{f.value&&v.delete(route("clients.destroy",f.value.id),{preserveScroll:!0,onSuccess:()=>{b(),C.success("Cliente excluído com sucesso!")},onError:o=>{console.error(o),C.error("Erro ao excluir o cliente.")}})},S=o=>!o||o.length===0?"N/A":o.join(", "),x=o=>{o&&$.get(o,{search:m.value},{preserveState:!0,replace:!0})};return(o,l)=>{const z=B("SecondaryButton");return c(),a(p,null,[n(i(D),{title:s.page.name},null,8,["title"]),n(L,{page:s.page},{header:d(()=>[e("h2",K,r(s.page.name),1),n(i(w),{href:o.route("clients.create")},{default:d(()=>[n(H,{icon:"plus",title:"Cadastrar Cliente",class:"print:hidden"})]),_:1},8,["href"])]),default:d(()=>[e("div",Q,[e("div",W,[e("div",X,[e("div",Y,[n(i(J),{class:"w-5 h-5 text-gray-500"}),M(e("input",{type:"text",name:"search_term",id:"search_term",autocomplete:"on",class:"simple-input flex-grow",autofocus:"true",placeholder:"Pesquisar por nome, CPF/CNPJ ou e-mail...","onUpdate:modelValue":l[0]||(l[0]=t=>m.value=t)},null,512),[[q,m.value]])])])])]),e("div",ee,[e("div",te,[e("div",se,[e("div",oe,[e("div",ne,[e("div",ie,[e("div",le,[e("table",re,[ae,e("tbody",null,[s.clients.data.length===0?(c(),a("tr",ce,ue)):h("",!0),(c(!0),a(p,null,N(s.clients.data,t=>(c(),a("tr",{key:t.id,class:"border-b transition duration-300 ease-in-out hover:bg-neutral-100"},[e("td",me,[e("div",fe,r(t.name),1),t.trade_name?(c(),a("div",xe,r(t.trade_name),1)):h("",!0)]),e("td",he,r(t.document),1),e("td",pe,r(t.email||"N/A"),1),e("td",ge,r(S(t.contacts)),1),e("td",_e,[e("div",ve,[n(i(w),{href:o.route("clients.show",t.id),class:"hover:text-blue-500",title:"Ver Cliente"},{default:d(()=>[n(i(I),{class:"w-5 h-5"})]),_:2},1032,["href"]),n(i(w),{href:o.route("clients.edit",t.id),class:"hover:text-yellow-500",title:"Editar Cliente"},{default:d(()=>[n(i(R),{class:"w-5 h-5"})]),_:2},1032,["href"]),e("button",{onClick:k=>E(t),class:"hover:text-red-500",title:"Excluir Cliente"},[n(i(U),{class:"w-5 h-5"})],8,be)])])]))),128))])])])])])])])])]),s.clients.links.length>3?(c(),a("div",ye,[e("div",we,[e("div",Ce,[e("button",{onClick:l[1]||(l[1]=t=>x(s.clients.prev_page_url)),disabled:!s.clients.prev_page_url,class:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},"Anterior",8,ke),e("button",{onClick:l[2]||(l[2]=t=>x(s.clients.next_page_url)),disabled:!s.clients.next_page_url,class:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},"Próxima",8,$e)]),e("div",Ne,[e("div",null,[e("p",Te,[u(" Mostrando de "),e("span",je,r(s.clients.from),1),u(" a "),e("span",Ee,r(s.clients.to),1),u(" de "),e("span",Pe,r(s.clients.total),1),u(" resultados ")])]),e("div",null,[e("nav",Se,[e("button",{onClick:l[3]||(l[3]=t=>x(s.clients.prev_page_url)),disabled:!s.clients.prev_page_url,class:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0"},[Ve,n(i(Z),{class:"h-5 w-5","aria-hidden":"true"})],8,ze),(c(!0),a(p,null,N(s.clients.links,(t,k)=>(c(),a(p,null,[["« Previous","Next »"].includes(t.label)?h("",!0):(c(),a("button",{key:k,onClick:Me=>x(t.url),disabled:!t.url,"aria-current":"page",class:T(["relative inline-flex items-center px-4 py-2 text-sm font-semibold focus:z-20 focus-visible:outline-2 focus-visible:outline-offset-2",{"z-10 bg-indigo-600 text-white focus-visible:outline-indigo-600":t.active,"text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:outline-offset-0":!t.active}]),innerHTML:t.label},null,10,Fe))],64))),256)),e("button",{onClick:l[4]||(l[4]=t=>x(s.clients.next_page_url)),disabled:!s.clients.next_page_url,class:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0"},[Be,n(i(G),{class:"h-5 w-5","aria-hidden":"true"})],8,Ae)])])])])])):h("",!0),n(O,{show:_.value,onClose:b},{title:d(()=>[u(" Confirmar Exclusão de Cliente ")]),content:d(()=>{var t;return[u(" Você tem certeza que deseja excluir o cliente "),e("strong",null,r((t=f.value)==null?void 0:t.name),1),u("? Esta ação não poderá ser desfeita. ")]}),footer:d(()=>[n(z,{onClick:b},{default:d(()=>[u("Cancelar")]),_:1}),e("button",{onClick:P,class:T(["ml-3 inline-flex items-center justify-center px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-500 active:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition ease-in-out duration-150",{"opacity-25":i(v).processing}]),disabled:i(v).processing}," Excluir ",10,De)]),_:1},8,["show"])]),_:1},8,["page"])],64)}}};export{Xe as default};
