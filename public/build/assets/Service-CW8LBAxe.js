import{e as r,o as i,a as e,l as L,c as W,w as v,b as d,g as M,n as T,i as X,f as p,q as A,u as c,v as B,t as m,m as ve,T as G,d as N,p as he,Z as xe,F as J,h as ye,z,x as K}from"./app-BFxaF4G7.js";import{r as we,_ as ge}from"./AppLayout-CJldedpQ.js";import{_ as fe}from"./CreateUpdatePayModal-C-nfS-jT.js";import{_ as be}from"./FloatButton-BBUpF2Fy.js";import{_ as ke}from"./ExtraOptionsButton-D5-BUO_U.js";import{f as C,t as I,k as Q}from"./general-ILD4i3rA.js";/* empty css                    */import{_ as Y}from"./CreateUpdateModal-BJ2MGO-9.js";import{_ as ee}from"./PrimaryButton-CWfdoqT9.js";import{_ as te}from"./SecondaryButton-DRAXVd-X.js";import{a as se,r as Ce}from"./XMarkIcon-Bu3932Y3.js";import{r as $e}from"./MagnifyingGlassIcon-CI_tOXrM.js";import"./PlusIcon-MJV1_ixn.js";import"./EyeIcon-Eb6tf8ej.js";import"./PrinterIcon-DxrN6vNb.js";import"./ArrowUturnLeftIcon-CQTtVK5Y.js";import"./Modal-AoLap7Zs.js";function oe(a,h){return i(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})])}function Se(a,h){return i(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}const Me={class:"mx-auto shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-yellow-400 sm:mx-0 sm:h-10 sm:w-10"},De={class:"pb-12 space-y-12 divide-y-2"},Ae={class:"py-4"},Ee=e("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Dados da entrega",-1),Ne=e("p",{class:"mt-1 text-sm leading-6 text-gray-600"},"Informe a data da entrega do serviço e, se o deadline for a menos de 4 dias da data da entrega, informe o motivo do atraso.",-1),Ie={class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"},Te={class:"sm:col-span-6"},Oe=e("label",{for:"service-deadline",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"Data da entrega",-1),Pe={class:"mt-2"},Ve=["max"],je={key:0,class:"text-red-500 text-sm"},Le={key:0,class:"sm:col-span-6"},Be=e("label",{for:"service-delay-reason",class:"block text-sm font-medium leading-6 text-gray-900"},"Motivo do Atraso",-1),Re={class:"mt-2"},Fe={key:0,class:"text-red-500 text-sm"},Ue={__name:"MotivoAtrasoModal",props:{showMotivoAtrasoModal:{type:Boolean,default:!0},service:{type:Object,default:null}},emits:["close","submit"],setup(a,{emit:h}){const _=h,s=a,b=()=>{_("close")},u=()=>{_("submit")},x=L(()=>{if(!s.service.completion_date||!s.service.deadline)return!1;const w=new Date(s.service.deadline+"T00:00:00"),l=new Date(s.service.completion_date+"T00:00:00"),y=w.getTime()-l.getTime();return Math.ceil(y/(1e3*60*60*24))<4}),k=L(()=>{var w;return x.value&&!((w=s.service.delay_reason)!=null&&w.length)});return(w,l)=>(i(),W(Y,{show:a.showMotivoAtrasoModal,onClose:b},{icon:v(()=>[e("div",Me,[d(c(oe),{class:"w-5 h-5 text-white"})])]),title:v(()=>[M(" Entregar serviço ")]),content:v(()=>[e("form",{onSubmit:X(u,["prevent"])},[e("div",De,[e("section",Ae,[Ee,Ne,e("div",Ie,[e("div",Te,[Oe,e("div",Pe,[A(e("input",{type:"date",name:"service-completion-date",id:"service-completion-date",autocomplete:"on",class:"simple-input disabled:bg-gray-200",autofocus:"true",placeholder:"Data de entrega do serviço",max:c(C)(),"onUpdate:modelValue":l[0]||(l[0]=y=>a.service.completion_date=y),required:""},null,8,Ve),[[B,a.service.completion_date]]),a.service.errors.completion_date?(i(),r("p",je,m(a.service.errors.completion_date),1)):p("",!0)])]),x.value?(i(),r("div",Le,[Be,e("div",Re,[A(e("textarea",{type:"text",name:"service-delay-reason",id:"service-delay-reason",autocomplete:"on",class:"simple-input disabled:bg-gray-200",placeholder:"Descreva o motivo do atraso do serviço","onUpdate:modelValue":l[1]||(l[1]=y=>a.service.delay_reason=y)},null,512),[[B,a.service.delay_reason]]),a.service.errors.delay_reason?(i(),r("p",Fe,m(a.service.errors.delay_reason),1)):p("",!0)])])):p("",!0)])])])],32)]),footer:v(()=>{var y,$;return[d(te,{onClick:l[2]||(l[2]=E=>b())},{default:v(()=>[M(" Cancelar ")]),_:1}),d(ee,{class:T({disabled:a.service.processing||!((y=a.service.completion_date)!=null&&y.length)||k.value}),disabled:a.service.processing||!(($=a.service.completion_date)!=null&&$.length)||k.value,onClick:l[3]||(l[3]=E=>u())},{default:v(()=>[M("Entregar")]),_:1},8,["class","disabled"])]}),_:1},8,["show"]))}},qe={class:"mx-auto shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-400 sm:mx-0 sm:h-10 sm:w-10"},ze={class:"pb-12 space-y-12 divide-y-2"},He={class:"py-4"},Ze={class:"text-base font-semibold leading-7 text-gray-900"},Ge=e("p",{class:"mt-1 text-sm leading-6 text-gray-600"},"Informe o motivo do cancelamento deste serviço",-1),Je={class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"},Ke={class:"sm:col-span-6"},Qe=e("label",{for:"service-delay-reason",class:"block text-sm font-medium leading-6 text-gray-900"},"Motivo do Cancelamento",-1),We={class:"mt-2"},Xe={key:0,class:"text-red-500 text-sm"},Ye={__name:"MotivoCancelamentoModal",props:{showMotivoCancelamentoModal:{type:Boolean,default:!0},service:{type:Object,default:null}},emits:["close","submit"],setup(a,{emit:h}){const _=h,s=()=>{_("close")},b=()=>{_("submit")};return(u,x)=>(i(),W(Y,{show:a.showMotivoCancelamentoModal,onClose:s},{icon:v(()=>[e("div",qe,[d(c(se),{class:"w-5 h-5 text-white"})])]),title:v(()=>[M(" Cancelar serviço ")]),content:v(()=>[e("form",{onSubmit:X(b,["prevent"])},[e("div",ze,[e("section",He,[e("h2",Ze,m(a.service.title),1),Ge,e("div",Je,[e("div",Ke,[Qe,e("div",We,[A(e("textarea",{type:"text",name:"service-delay-reason",id:"service-delay-reason",autocomplete:"on",class:"simple-input disabled:bg-gray-200",placeholder:"Descreva o motivo do atraso do serviço","onUpdate:modelValue":x[0]||(x[0]=k=>a.service.cancellation_reason=k)},null,512),[[B,a.service.cancellation_reason]]),a.service.errors.cancellation_reason?(i(),r("p",Xe,m(a.service.errors.cancellation_reason),1)):p("",!0)])])])])])],32)]),footer:v(()=>{var k,w;return[d(te,{onClick:x[1]||(x[1]=l=>s())},{default:v(()=>[M(" Cancelar ")]),_:1}),d(ee,{class:T({disabled:a.service.processing||!((k=a.service.cancellation_reason)!=null&&k.length)}),disabled:a.service.processing||!((w=a.service.cancellation_reason)!=null&&w.length),onClick:x[2]||(x[2]=l=>b())},{default:v(()=>[M("Cancelar Serviço")]),_:1},8,["class","disabled"])]}),_:1},8,["show"]))}},et={class:"font-semibold text-xl text-gray-800 leading-tight"},tt={key:0},st={class:"pt-12 print:hidden print:pt-0"},ot={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 print:w-full"},at={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-5"},nt={class:"flex flex-row items-center space-x-3"},it={class:"py-12 print:py-0"},rt={class:"max-w-7xl mx-auto print:max-w-full"},lt={class:"w-full flex justify-end pb-3 print:hidden"},ct={class:"px-0 print:px-0"},dt={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg print:shadow-none"},ut={class:"flex flex-col"},pt={class:"overflow-x-auto sm:-mx-6 lg:-mx-8"},mt={class:"inline-block min-w-full py-2 sm:px-6 lg:px-8"},_t={class:"overflow-hidden"},vt={class:"min-w-full text-left text-sm font-light"},ht={class:"border-b font-medium"},xt=e("th",{scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center"}," #",-1),yt=e("th",{scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center"}," Prazo ",-1),wt=e("th",{scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center"}," Título ",-1),gt=e("th",{scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center"}," Cliente ",-1),ft=e("th",{scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center"}," À pagar ",-1),bt=e("th",{scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center"}," Valor total",-1),kt=e("th",{scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center print:hidden"}," Entrega ",-1),Ct=e("th",{scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center"}," Status ",-1),$t=e("th",{scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center print:hidden",colspan:"5"},"Ações ",-1),St={key:0,scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center print:hidden"},Mt={key:1,scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center print:hidden"},Dt={key:2,scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center print:hidden"},At={key:3,scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center print:hidden"},Et={class:"whitespace-nowrap py-4 text-center font-medium"},Nt={class:"whitespace-normal px-6 py-4 print:px-3 print:py-2 text-center trim"},It=["title"],Tt={class:"whitespace-normal px-6 py-4 print:px-3 print:py-2 text-center"},Ot={class:"whitespace-nowrap px-2 py-4 text-center"},Pt={class:"whitespace-nowrap px-2 py-4 text-center"},Vt={class:"whitespace-nowrap px-2 py-4 text-center print:hidden"},jt={class:"whitespace-nowrap px-2 py-4 text-center"},Lt=["value","onChange"],Bt=["selected"],Rt=["selected"],Ft=["selected"],Ut=["title","onClick"],qt=["title","onClick"],zt={key:0},Ht={key:1,class:"m-auto text-center"},Zt=["title","onClick"],Gt=["title"],Jt=["href"],Kt=["title","onClick"],Qt={key:1,class:"whitespace-nowrap px-2 py-4 text-center print:hidden"},Wt={key:2,class:"whitespace-nowrap px-2 py-4 text-center print:hidden"},Xt={key:3,class:"whitespace-nowrap px-2 py-4 text-center print:hidden"},Yt={key:4,class:"whitespace-nowrap px-2 py-4 text-center print:hidden"},es={key:1,class:"transition duration-300 ease-in-out hover:bg-neutral-100 print:break-inside-avoid"},ts=e("td",{class:"whitespace-nowrap px-6 py-4 print:px-3 print:py-2 text-center",colspan:"9"},"Não há serviços cadastrados no momento!",-1),ss=[ts],fs={__name:"Service",props:{page:Object,page_options:{type:Array,default:null},services_list:Object,sells_list:{type:Array,default:[]},show_service_id:{type:[String,Number],default:null}},setup(a){const h=a,_=ve.useToast(),s=G({id:null,previous_id:null,title:"",client:"",total_value:0,service_value:0,partial_value:0,deadline:C(new Date(Date.now()+15*24*60*60*1e3),"new_date"),observations:"",service_status:"Não Iniciado",cancellation_reason:null,delay_reason:"",delayed:!1,completion_date:C(new Date,"new_date"),records_list:{enable_records:!1,data:[]}}),b=N(""),u=N(!1),x=L(()=>{const n=b.value.toLowerCase();return h.services_list.filter(o=>{var t,g,D,f,O,P,V,j;return((t=o.id)==null?void 0:t.toString().includes(n))||((g=o.motive)==null?void 0:g.toLowerCase().includes(n))||((D=o.entity_name)==null?void 0:D.toLowerCase().includes(n))||((f=o.observations)==null?void 0:f.toLowerCase().includes(n))||((O=I(o.accounting.total_value||0))==null?void 0:O.toString().toLowerCase().includes(n))||((P=I(o.accounting.partial_value||0))==null?void 0:P.toString().toLowerCase().includes(n))||((V=o.deadline)==null?void 0:V.includes(n))||((j=o.service_status)==null?void 0:j.toLowerCase().includes(n))})}),k=L(()=>h.services_list.reduce((n,o)=>n+o.accounting.partial_value,0)),w=n=>{const o=Q(n);return o===0?"text-red-500":o>0&&o<8?"text-orange-500":o>7&&o<15?"text-yellow-500":o>14&&o<30?"text-green-500":"text-blue-500"},l=N({mode:"create",show:!1,get title(){switch(this.mode){case"create":return"Criar serviço";case"update":return"Editar serviço";case"pay":return"Pagar serviço";case"see":return"Ver informações do serviço"}},get primary_button_txt(){switch(this.mode){case"create":return"Cadastrar";case"update":return"Atualizar";case"pay":return"Pagar";case"see":return"Fechar"}}}),y=n=>{const o=h.services_list.find(t=>t.id===parseInt(n));if(o){const{id:t,previous_id:g,motive:D,entity_name:f,deadline:O,observations:P,cancellation_reason:V,delay_reason:j,delayed:pe,completion_date:os,records:H,accounting:U,service_status:me}=o,Z=h.sells_list.find(q=>q.id===g),_e=Z?parseFloat(Z.total_value):0;s.service_value=parseFloat(U.total_value)-_e,s.id=t,s.previous_id=g,s.title=D,s.client=f,s.total_value=U.total_value,s.partial_value=U.partial_value,s.deadline=O,s.observations=P,s.service_status=me,s.cancellation_reason=V,s.delay_reason=j,s.completion_date=C(new Date,"new_date"),s.delayed=pe,s.records_list.enable_records=!!H.length,s.records_list.data=H.map(q=>G(q))}},$=(n,o=null)=>{const t=["update","pay"].includes(n);o!==null&&t?y(o):(s.reset(),s.deadline=C(new Date(Date.now()+15*24*60*60*1e3),"new_date"),s.service_status="Não Iniciado"),l.value.mode=n,l.value.show=!0},E=N(!1),ae=(n,o)=>{if(o!==0){if(!confirm("O serviço será considerado como concluído e será listado apenas na página de pagamentos"))return}else if(!confirm("O serviço será considerado concluído e pago!"))return;y(n),l.value.mode="conclude",E.value=!0},R=N(!1),ne=n=>{y(n),l.value.mode="cancel",R.value=!0},S=()=>{s.reset(),l.value.show=!1,E.value=!1,R.value=!1,s.deadline=C(new Date(Date.now()+15*24*60*60*1e3),"new_date"),s.service_status="Não Iniciado"};he(()=>{h.show_service_id&&$("update",h.show_service_id)});const ie=()=>{console.log("SERVIÇO: ",s),s.post(route("services.store"),{preserveScroll:!0,onSuccess:()=>{_.success("Serviço criado com sucesso!"),S()},onError:n=>{console.log(n)}})},re=()=>{s.put(route("services.update",s.id),{preserveScroll:!0,onSuccess:()=>{_.success("Serviço alterado com sucesso!"),S()}})},le=()=>{s.put(route("services.pay",s.id),{preserveScroll:!0,onSuccess:()=>{_.success("Serviço pago com sucesso!"),S()}})},ce=()=>{s.put(route("services.conclude",s.id),{preserveScroll:!0,onSuccess:()=>{_.success("Serviço concluído com sucesso!"),S()},onError:n=>{console.log(n)}})},de=()=>{s.put(route("services.cancel",s.id),{preserveScroll:!0,onSuccess:()=>{_.success("Serviço cancelado com sucesso!"),S()},onError:n=>{console.log(n)}})},ue=(n,o)=>{const t=o.target.value;K.put(route("services.change-status",n),{service_status:t},{preserveScroll:!0,onSuccess:()=>{_.success("Status alterado com sucesso!"),K.reload({only:["services_list"]})},onError:g=>{console.log(g),_.error("Erro ao alterar status!")}})},F=()=>{switch(l.value.mode){case"create":return ie();case"update":return re();case"pay":return le();case"conclude":return ce();case"cancel":return de();default:_.error("Método desconhecido. Informar o Técnico.")}};return(n,o)=>(i(),r(J,null,[d(c(xe),{title:a.page.name},null,8,["title"]),d(ge,{page:a.page,page_options:a.page_options},{header:v(()=>[e("h2",et,[M(m(a.page.name)+" ",1),n.$page.props.auth.user.hierarchy<2?(i(),r("span",tt,"| "+m(c(I)(k.value)),1)):p("",!0)]),d(be,{icon:"plus",onClick:o[0]||(o[0]=t=>$("create")),title:"Cadastrar Service",class:"print:hidden"})]),default:v(()=>[e("div",st,[e("div",ot,[e("div",at,[e("div",nt,[d(c($e),{class:"w-5 y-5"}),A(e("input",{type:"text",name:"search_term",id:"search_term",autocomplete:"on",class:"simple-input",autofocus:"true",placeholder:"Pesquisar termo...","onUpdate:modelValue":o[1]||(o[1]=t=>b.value=t)},null,512),[[B,b.value]])])])])]),e("div",it,[e("div",rt,[e("div",lt,[u.value?p("",!0):(i(),r("button",{key:0,class:"text-blue-500 text-xs justify-end",onClick:o[2]||(o[2]=t=>u.value=!u.value)},"Mostrar dados de usuário")),u.value?(i(),r("button",{key:1,class:"text-red-500 text-xs justify-end",onClick:o[3]||(o[3]=t=>u.value=!u.value)},"Esconder dados de usuário")):p("",!0)]),e("div",ct,[e("div",dt,[e("div",ut,[e("div",pt,[e("div",mt,[e("div",_t,[e("table",vt,[e("thead",ht,[e("tr",null,[xt,yt,wt,gt,ft,bt,kt,Ct,$t,u.value?(i(),r("th",St,"Criado em")):p("",!0),u.value?(i(),r("th",Mt,"Criado por")):p("",!0),u.value?(i(),r("th",Dt," Modificado em")):p("",!0),u.value?(i(),r("th",At," Modificado por ")):p("",!0)])]),e("tbody",null,[x.value.length?(i(!0),r(J,{key:0},ye(x.value,t=>{var g,D;return i(),r("tr",{key:t.id,class:"border-b transition duration-300 ease-in-out hover:bg-neutral-100 print:break-inside-avoid"},[e("td",Et,m(t.id),1),e("td",{class:T(["whitespace-nowrap py-4 text-center font-medium",w(t.deadline)])},m(c(Q)(t.deadline))+" dias ",3),e("td",Nt,[M(m(t.motive)+" ",1),t.observations?(i(),r("span",{key:0,title:t.observations,class:"inline-flex items-center rounded-md bg-gray-50 px-2 py-1 text-xs font-medium text-gray-600 ring-1 ring-inset ring-gray-500/10 cursor-help"},"OBS",8,It)):p("",!0)]),e("td",Tt,m(t.entity_name),1),e("td",Ot,m(c(I)(t.accounting.partial_value)),1),e("td",Pt,m(c(I)(t.accounting.total_value)),1),e("td",Vt,m(c(C)(t.deadline,!0)),1),e("td",jt,[e("select",{class:T(["print:hidden pl-1 pr-7 py-0.5 rounded-full text-xs",{"text-blue-500 border-blue-500":t.service_status==="Não Iniciado","text-yellow-500 border-yellow-500":t.service_status==="Em Andamento","text-orange-500 border-orange-500":t.service_status==="Pausado"}]),value:t.service_status,onChange:f=>ue(t.id,f)},[A(e("option",{value:"Não Iniciado",selected:t.service_status==="Não Iniciado",class:"text-blue-500"}," Não Iniciado ",8,Bt),[[z,t.service_status!=="Não Iniciado"]]),A(e("option",{value:"Em Andamento",selected:t.service_status==="Em Andamento",class:"text-yellow-500"},"Em Andamento ",8,Rt),[[z,t.service_status!=="Em Andamento"]]),A(e("option",{value:"Pausado",selected:t.service_status==="Pausado",class:"text-orange-500"}," Pausado",8,Ft),[[z,t.service_status!=="Pausado"]])],42,Lt),e("label",{class:T(["hidden print:block",{"text-blue-500":t.service_status==="Não Iniciado","text-yellow-500":t.service_status==="Em Andamento","text-orange-500":t.service_status==="Pausado"}])},m(t.service_status),3)]),e("td",{class:"whitespace-nowrap px-4 py-4 pl-10 text-center cursor-pointer hover:text-blue-700 active:text-blue-900 select-none print:hidden",title:"CONCLUIR: "+t.motive+"("+t.entity_name+")",onClick:f=>ae(t.id,t.accounting.partial_value)},[d(c(oe),{class:"w-4 h-4 m-auto"})],8,Ut),e("td",{class:"whitespace-nowrap px-4 py-4 text-center cursor-pointer hover:text-green-700 active:text-green-900 select-none print:hidden",title:"PAGAR: "+t.motive+"("+t.entity_name+")",onClick:f=>$("pay",t.id)},[t.accounting.partial_value!==0?(i(),r("span",zt,[d(c(we),{class:"w-4 h-4 m-auto"})])):(i(),r("span",Ht,"PAGO"))],8,qt),e("td",{class:"whitespace-nowrap px-4 py-4 text-center cursor-pointer hover:text-yellow-700 active:text-yellow-900 select-none print:hidden",title:"EDITAR: "+t.motive+"("+t.entity_name+")",onClick:f=>$("update",t.id)},[d(c(Ce),{class:"w-4 h-4 m-auto"})],8,Zt),e("td",{title:"ORÇAMENTO DE "+t.motive+"("+t.entity_name+")",class:"whitespace-nowrap px-4 py-4 text-center cursor-pointer hover:text-sky-700 active:text-sky-900 select-none print:hidden"},[(g=t.budget)!=null&&g.id?(i(),r("a",{key:0,href:n.route("budgets.show",t.budget.id),target:"_blank",class:""},[d(c(Se),{class:"w-4 h-4 m-auto"})],8,Jt)):p("",!0)],8,Gt),n.$page.props.auth.user.hierarchy<2?(i(),r("td",{key:0,class:"whitespace-nowrap px-4 py-4 text-center cursor-pointer hover:text-red-700 active:text-red-900 select-none print:hidden",title:"CANCELAR: "+t.motive+"("+t.entity_name+")",onClick:f=>ne(t.id)},[d(c(se),{class:"w-4 h-4 m-auto"})],8,Kt)):p("",!0),u.value?(i(),r("td",Qt,m(c(C)(t.created_at,"reading_date_time")),1)):p("",!0),u.value?(i(),r("td",Wt,m(t.procedures[0].user.name),1)):p("",!0),u.value?(i(),r("td",Xt,m(c(C)(t.updated_at,"reading_date_time")),1)):p("",!0),u.value?(i(),r("td",Yt,m(t.procedures[((D=t.procedures)==null?void 0:D.length)-1].user.name),1)):p("",!0)])}),128)):(i(),r("tr",es,ss))])])])])])])])])])]),d(fe,{show:l.value.show,modal:l.value,service:c(s),sells_list:a.sells_list,onSubmit:F,onClose:S},null,8,["show","modal","service","sells_list"]),d(Ue,{show:E.value,service:c(s),onSubmit:F,onClose:S},null,8,["show","service"]),d(Ye,{show:R.value,service:c(s),onSubmit:F,onClose:S},null,8,["show","service"]),d(ke,{mode:["rollup","print_page","link"],link_type:["previous"],link:[n.route("services.previous")]},null,8,["link"])]),_:1},8,["page","page_options"])],64))}};export{fs as default};
