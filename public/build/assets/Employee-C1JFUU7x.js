import{o,e as a,a as e,d as le,l as b,c as F,w as V,n as W,u as y,h as i,f as R,t as d,p as ae,i as ne,q as x,v as f,b as g,F as E,g as I,s as pe,x as Z,T as ye,Z as _e}from"./app-wIlip3pR.js";import{_ as he}from"./AppLayout-BbWcPMzy.js";import{r as de,a as re,_ as xe}from"./CreateUpdateModal-Bn2Rq6uk.js";import{_ as be}from"./PrimaryButton-CFA6HZtj.js";import{_ as ge}from"./SecondaryButton-B18wpBTD.js";import{f as G,a as ve,b as fe,c as ke,d as P,v as we,t as L}from"./general-B4ZTqOfr.js";import{r as ie,_ as $e}from"./FloatButton-Cl9FbEB0.js";import{r as Ce}from"./BanknotesIcon-BW4l_CJL.js";import{r as me}from"./EyeIcon-DKKhZS4j.js";import{_ as qe}from"./ExtraOptionsButton-IO_FbokD.js";import{r as Se}from"./MagnifyingGlassIcon-Ct-Qocut.js";import"./Modal-DEJQdgPt.js";import"./PrinterIcon-Bt7yR5Wr.js";function Ve(t,$){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}const Ee={class:"pb-12 space-y-12 divide-y-2"},Ae={class:"py-4"},Ne=e("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Informações Básicas",-1),Ie=e("p",{class:"mt-1 text-sm leading-6 text-gray-600"},"Informações sobre o funcionário como nome, salário e contato",-1),Ue={class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"},Fe={class:"sm:col-span-3"},Pe=e("label",{for:"employee-name",class:"block text-sm fontSamuel@samuel-pc:~$ -medium leading-6 text-gray-900 required-input-label"},"Nome",-1),Te={class:"mt-2"},Me=["disabled"],Be={key:0,class:"text-red-500 text-sm"},je={class:"sm:col-span-3"},Oe=e("label",{for:"employee-surname",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"Sobrenome",-1),De={class:"mt-2"},Le=["disabled"],Re={key:0,class:"text-red-500 text-sm"},ze={class:"sm:col-span-3"},Xe=e("label",{for:"employee-salary",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"Salário",-1),Je={class:"mt-2 relative"},He=e("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[e("span",{class:"text-gray-500 sm:text-sm"},"R$")],-1),Ke=["disabled"],Ze={key:0,class:"text-red-500 text-sm"},We={class:"sm:col-span-3"},Ge=e("label",{for:"employee-agreement",class:"block text-sm font-medium leading-6 text-gray-900"},"Acordo",-1),Qe={class:"mt-2 relative"},Ye=e("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[e("span",{class:"text-gray-500 sm:text-sm"},"R$")],-1),et=["disabled"],tt={key:0,class:"text-red-500 text-sm"},ot={class:"sm:col-span-6"},st=e("label",{for:"employee-contacts",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"Números de contato",-1),lt={class:"mt-2 relative"},at=["value","disabled"],nt={class:"absolute inset-y-0 right-0 p-1.5"},it=["disabled"],dt={class:"select-none py-1"},rt=["onClick"],mt={key:0,class:"text-red-500 text-sm"},ct={class:"sm:col-span-6"},ut=e("label",{for:"employee-function-name",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"Função",-1),pt={class:"mt-2"},yt=["disabled"],_t={key:0,class:"text-red-500 text-sm"},ht={class:"sm:col-span-6"},xt={class:"relative flex gap-x-3"},bt={class:"flex h-6 items-center"},gt=["disabled"],vt={class:"text-sm leading-6"},ft=e("label",{for:"employee-transportation-voucher",class:"font-medium text-gray-900"},"Recebe Vale Transporte?",-1),kt=e("p",{class:"text-gray-500"},"Assinalando esta opção, o valor do vale transporte será adicionado todo mês ao Holerite",-1),wt={key:0,class:"text-red-500 font-mono"},$t={class:"py-4"},Ct=e("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Dados de Pagamento",-1),qt=e("p",{class:"mt-1 text-sm leading-6 text-gray-600"},"Seção para especificar os dados necessários para o pagamento do funcionário.",-1),St={class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-4 sm:grid-cols-6"},Vt={class:"sm:col-span-6"},Et=e("label",{for:"employee-payment-method",class:"text-sm font-medium leading-6 text-gray-900 required-input-label"},"Método de pagamento",-1),At={class:"mt-2"},Nt=["disabled"],It=e("option",{key:"0",value:null,selected:"",disabled:""},"Selecione um método de pagamento ",-1),Ut=["value"],Ft={key:0,class:"text-red-500 text-sm"},Pt={key:0,class:"sm:col-span-6 sm:grid sm:grid-cols-2 md:grid-cols-4 gap-1"},Tt={class:"sm:col-span-2 md:col-span-4 mb-5"},Mt=e("label",{for:"employee-account-type",class:"text-sm font-medium leading-6 text-gray-900 required-input-label"},"Tipo de conta",-1),Bt={class:"mt-2"},jt=["disabled"],Ot=e("option",{key:"0",value:null,selected:"",disabled:""},"Selecione um tipo de conta ",-1),Dt=["value"],Lt={key:0,class:"text-red-500 text-sm"},Rt=e("label",{for:"employee-bank",class:"text-sm font-medium leading-6 text-gray-900 required-input-label"},"Banco",-1),zt={class:"mt-2"},Xt=["disabled"],Jt=e("option",{key:"0",value:null,selected:"",disabled:""},"Selecione um banco",-1),Ht=["value"],Kt={key:0,class:"text-red-500 text-sm"},Zt=e("label",{for:"employee-bank-ag",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"Agência",-1),Wt={class:"mt-2"},Gt=["value","disabled"],Qt={key:0,class:"text-red-500 text-sm"},Yt=e("label",{for:"employee-account-number",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"Com dígito",-1),eo={class:"mt-2"},to=["value","disabled"],oo={key:0,class:"text-red-500 text-sm"},so=e("label",{for:"employee-pix-cpf",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"CPF",-1),lo={class:"mt-2"},ao=["value","disabled"],no={key:0,class:"text-red-500 text-sm"},io={key:1,class:"sm:col-span-6"},ro={key:0},mo=e("label",{for:"employee-pix-email",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"E-mail",-1),co={class:"mt-2"},uo=["disabled"],po={key:0,class:"text-red-500 text-sm"},yo={key:1},_o=e("label",{for:"employee-pix-cpf",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"CPF",-1),ho={class:"mt-2"},xo=["value","disabled"],bo={key:0,class:"text-red-500 text-sm"},go={key:2},vo=e("label",{for:"employee-pix-phone-number",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"Número de telefone",-1),fo={class:"mt-2"},ko=["value","disabled"],wo={key:0,class:"text-red-500 text-sm"},$o={key:3},Co=e("label",{for:"employee-pix-token",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"Token",-1),qo={class:"mt-2"},So=["disabled"],Vo={key:0,class:"text-red-500 text-sm"},Eo={class:"py-4"},Ao=e("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Dados de Pagamento de Horas Extras ",-1),No=e("p",{class:"mt-1 text-sm leading-6 text-gray-600"},"As horas extras precisam ser pagas via PIX, então precisamos de pelo menos 1 pix para pagamento. Essa informação será utilizada na página de Cálculo de Horas Extras.",-1),Io={class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-4 sm:grid-cols-6"},Uo={class:"sm:col-span-6"},Fo=e("label",{for:"employee-payment-method",class:"text-sm font-medium leading-6 text-gray-900 required-input-label"},"PIX",-1),Po={class:"mt-2"},To=["disabled"],Mo=e("option",{key:"0",value:null,selected:"",disabled:""},"Selecione um método PIX ",-1),Bo=["value"],jo={key:0,class:"text-red-500 text-sm"},Oo={key:0,class:"sm:col-span-6"},Do={key:0},Lo=e("label",{for:"employee-overtime-pix-email",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"E-mail",-1),Ro={class:"mt-2"},zo=["disabled"],Xo={key:0,class:"text-red-500 text-sm"},Jo={key:1},Ho=e("label",{for:"employee-overtime-pix-cpf",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"CPF",-1),Ko={class:"mt-2"},Zo=["value","disabled"],Wo={key:0,class:"text-red-500 text-sm"},Go={key:2},Qo=e("label",{for:"employee-overtime-pix-phone-number",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"Número de telefone",-1),Yo={class:"mt-2"},es=["value","disabled"],ts={key:0,class:"text-red-500 text-sm"},os={key:3},ss=e("label",{for:"employee-overtime-pix-token",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"Token",-1),ls={class:"mt-2"},as=["disabled"],ns={key:0,class:"text-red-500 text-sm"},is={__name:"CreateUpdateEmployeesModal",props:{modal:Object,employee:{type:Object,default:null},account_types_list:Array,payment_methods_list:Array,banks_list:Array},emits:["close","submit"],setup(t,{emit:$}){const r=$,m=t,k=le(""),T=(u=null)=>{u&&u.preventDefault();const l=P(k.value);if(l.length===11){if(m.employee.errors.contacts="",m.employee.contacts.includes(l)){m.employee.errors.contacts="Número já adicionado na lista";return}m.employee.contacts.push(k.value),k.value=""}else m.employee.errors.contacts="Números de contato precisam ter 11 dígitos"},Q=u=>{m.employee.contacts=m.employee.contacts.filter(l=>l!==u)},A=b(()=>G(k.value)),U=b(()=>G(m.employee.pix_phone_number)),C=b(()=>ve(m.employee.pix_cpf)),Y=b(()=>fe(m.employee.bank_ag)),ee=b(()=>ke(m.employee.account_number)),z=b(()=>{const{name:u,surname:l,salary:w,contacts:s,function_name:j,payment_method_id:O,overtime_payment_method_id:X,bank_id:oe,pix_cpf:D,pix_email:J,pix_phone_number:H,pix_token:K,bank_ag:se,account_type_id:ce,account_number:ue}=m.employee;if(!u||!l||!w||w<0||!s.length||!j||!O||!X)return!1;let N=!1;switch(O){case 1:case 6:N=ce&&oe&&se&&ue&&D;case 3:N=!!J;case 4:N=!!D;case 5:N=!!H;case 7:N=!!K;default:N=!0}if(!N)return!1;if(_)switch(X){case 3:return!!J;case 4:return!!D;case 5:return!!H;case 7:return!!K;default:return!0}}),c=b(()=>m.modal.mode==="see"),te=b(()=>[1,6].includes(m.employee.payment_method_id)),_=b(()=>m.employee.payment_method_id!==m.employee.overtime_payment_method_id),p=b(()=>m.employee.contacts.length>3),n=u=>{const l=u.target.value;m.employee.errors.pix_cpf=we(l)?"":"CPF inválido!",m.employee.errors.pix_cpf||(m.employee.pix_cpf=P(l))},h=u=>k.value=P(u.target.value),v=u=>m.employee.pix_phone_number=P(u.target.value),q=u=>m.employee.bank_ag=P(u.target.value),M=u=>m.employee.account_number=P(u.target.value),S=()=>r("close"),B=()=>r("submit");return(u,l)=>(o(),F(xe,{show:t.modal.show,maxWidth:"2xl",onClose:S},{icon:V(()=>[e("div",{class:W(["mx-auto shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-400 sm:mx-0 sm:h-10 sm:w-10",{"bg-yellow-400":t.modal.mode==="update","bg-green-400":t.modal.mode==="pay","bg-gray-400":t.modal.mode==="see"}])},[t.modal.mode==="create"?(o(),F(y(ie),{key:0,class:"w-5 h-5 text-white"})):i("",!0),t.modal.mode==="update"?(o(),F(y(de),{key:1,class:"w-5 h-5 text-white"})):i("",!0),t.modal.mode==="pay"?(o(),F(y(Ce),{key:2,class:"w-5 h-5 text-white"})):i("",!0),t.modal.mode==="see"?(o(),F(y(me),{key:3,class:"w-5 h-5 text-white"})):i("",!0)],2)]),title:V(()=>[R(d(t.modal.title),1)]),content:V(()=>{var w;return[e("form",{onKeydown:l[14]||(l[14]=ae(ne(()=>{},["prevent"]),["enter"]))},[e("div",Ee,[e("section",Ae,[Ne,Ie,e("div",Ue,[e("div",Fe,[Pe,e("div",Te,[x(e("input",{type:"text",name:"employee-name",id:"employee-name",autocomplete:"on",class:"simple-input disabled:bg-gray-200",placeholder:"Nome","onUpdate:modelValue":l[0]||(l[0]=s=>t.employee.name=s),disabled:c.value,required:""},null,8,Me),[[f,t.employee.name]]),t.employee.errors.name?(o(),a("p",Be,d(t.employee.errors.name),1)):i("",!0)])]),e("div",je,[Oe,e("div",De,[x(e("input",{type:"text",name:"employee-surname",id:"employee-surname",autocomplete:"on",class:"simple-input disabled:bg-gray-200",placeholder:"Sobrenome","onUpdate:modelValue":l[1]||(l[1]=s=>t.employee.surname=s),disabled:c.value,required:""},null,8,Le),[[f,t.employee.surname]]),t.employee.errors.surname?(o(),a("p",Re,d(t.employee.errors.surname),1)):i("",!0)])]),e("div",ze,[Xe,e("div",Je,[He,x(e("input",{type:"number",min:"0",step:"0.01",name:"employee-salary",id:"employee-salary",autocomplete:"on",class:"simple-input disabled:bg-gray-200 pl-9",placeholder:"Salário","onUpdate:modelValue":l[2]||(l[2]=s=>t.employee.salary=s),disabled:c.value,required:""},null,8,Ke),[[f,t.employee.salary]]),t.employee.errors.salary?(o(),a("p",Ze,d(t.employee.errors.salary),1)):i("",!0)])]),e("div",We,[Ge,e("div",Qe,[Ye,x(e("input",{type:"number",min:"0",step:"0.01",name:"employee-agreement",id:"employee-agreement",autocomplete:"on",class:"simple-input disabled:bg-gray-200 pl-9",placeholder:"Valor de acrécimo (+) ou desconto (-) combinado por fora","onUpdate:modelValue":l[3]||(l[3]=s=>t.employee.agreement=s),disabled:c.value,required:""},null,8,et),[[f,t.employee.agreement]]),t.employee.errors.agreement?(o(),a("p",tt,d(t.employee.errors.agreement),1)):i("",!0)])]),e("div",ot,[st,e("div",lt,[e("input",{type:"text",minlength:"11",maxlength:"16",name:"employee-contacts",id:"employee-contacts",autocomplete:"on",class:"simple-input disabled:bg-gray-200 pr-9",placeholder:"Adicione números de contato do funcionário",value:A.value,onInput:h,onKeydown:ae(T,["enter"]),disabled:p.value||c.value},null,40,at),e("div",nt,[e("button",{type:"button",class:"w-full text-white text-center p-0.5 rounded-lg bg-green-500 hover:bg-green-600 active:bg-green-700",onClick:T,disabled:p.value},[g(y(ie),{class:"w-5 h-5"})],8,it)]),e("ul",dt,[(o(!0),a(E,null,I((w=t.employee)==null?void 0:w.contacts,(s,j)=>(o(),a("li",{key:j,class:"float-left px-2 py-1 m-1 bg-green-500 text-white text-xs rounded-lg flex flex-row items-center justify-between gap-1"},[R(d(y(G)(s))+" ",1),e("button",{class:"text-white",onClick:ne(O=>Q(s),["stop","prevent"])},[g(y(re),{class:"w-3 h-3 text-white"})],8,rt)]))),128))]),t.employee.errors&&t.employee.errors.contacts?(o(),a("p",mt,d(t.employee.errors.contacts),1)):i("",!0)])]),e("div",ct,[ut,e("div",pt,[x(e("input",{type:"text",name:"employee-function-name",id:"employee-function-name",autocomplete:"on",class:"simple-input disabled:bg-gray-200",placeholder:"Nome da função que o funcionário excerce","onUpdate:modelValue":l[4]||(l[4]=s=>t.employee.function_name=s),disabled:c.value,required:""},null,8,yt),[[f,t.employee.function_name]]),t.employee.errors.function_name?(o(),a("p",_t,d(t.employee.errors.function_name),1)):i("",!0)])]),e("div",ht,[e("div",xt,[e("div",bt,[x(e("input",{id:"employee-transportation-voucher",name:"employee-transportation-voucher",type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-green-600 focus:ring-green-600","onUpdate:modelValue":l[5]||(l[5]=s=>t.employee.transportation_voucher=s),"true-value":"1","false-value":"0",disabled:c.value,required:""},null,8,gt),[[pe,t.employee.transportation_voucher]])]),e("div",vt,[ft,kt,t.employee.errors.transportation_voucher?(o(),a("p",wt,d(t.employee.errors.transportation_voucher),1)):i("",!0)])])])])]),e("section",$t,[Ct,qt,e("div",St,[e("div",Vt,[Et,e("div",At,[x(e("select",{name:"employee-payment-method",id:"employee-payment-method",class:"simple-select disabled:bg-gray-200","onUpdate:modelValue":l[6]||(l[6]=s=>t.employee.payment_method_id=s),disabled:c.value,required:""},[It,(o(!0),a(E,null,I(t.payment_methods_list,s=>(o(),a("option",{key:s.id,value:s.id},d(s.name),9,Ut))),128))],8,Nt),[[Z,t.employee.payment_method_id]]),t.employee.errors.payment_method_id?(o(),a("p",Ft,d(t.employee.errors.payment_method_id),1)):i("",!0)])]),te.value?(o(),a("div",Pt,[e("div",Tt,[Mt,e("div",Bt,[x(e("select",{name:"employee-account-type",id:"employee-account-type",class:"simple-select disabled:bg-gray-200","onUpdate:modelValue":l[7]||(l[7]=s=>t.employee.account_type_id=s),disabled:c.value,required:""},[Ot,(o(!0),a(E,null,I(t.account_types_list,s=>(o(),a("option",{key:s.id,value:s.id},d(s.name),9,Dt))),128))],8,jt),[[Z,t.employee.account_type_id]]),t.employee.errors.account_type?(o(),a("p",Lt,d(t.employee.errors.account_type),1)):i("",!0)])]),e("div",null,[Rt,e("div",zt,[x(e("select",{name:"employee-bank",id:"employee-bank",class:"simple-select disabled:bg-gray-200","onUpdate:modelValue":l[8]||(l[8]=s=>t.employee.bank_id=s),disabled:c.value,required:""},[Jt,(o(!0),a(E,null,I(t.banks_list,s=>(o(),a("option",{key:s.id,value:s.id},d(s.code)+" - "+d(s.name),9,Ht))),128))],8,Xt),[[Z,t.employee.bank_id]]),t.employee.errors.bank_id?(o(),a("p",Kt,d(t.employee.errors.bank_id),1)):i("",!0)])]),e("div",null,[Zt,e("div",Wt,[e("input",{type:"text",min:"4",maxlength:"4",name:"employee-bank-ag",id:"employee-bank-ag",autocomplete:"on",class:"simple-input disabled:bg-gray-200",placeholder:"Sem dígito",value:Y.value,onInput:q,disabled:c.value,required:""},null,40,Gt),t.employee.errors.bank_ag?(o(),a("p",Qt,d(t.employee.errors.bank_ag),1)):i("",!0)])]),e("div",null,[Yt,e("div",eo,[e("input",{type:"text",minlength:"11",maxlength:"12",name:"employee-account-number",id:"employee-account-number",autocomplete:"on",class:"simple-input disabled:bg-gray-200",placeholder:"Com dígito",value:ee.value,onInput:M,disabled:c.value,required:""},null,40,to),t.employee.errors.account_number?(o(),a("p",oo,d(t.employee.errors.account_number),1)):i("",!0)])]),e("div",null,[so,e("div",lo,[e("input",{type:"text",minlength:"11",maxlength:"14",name:"employee-pix-cpf",id:"employee-pix-cpf",autocomplete:"on",class:"simple-input disabled:bg-gray-200",placeholder:"CPF",value:C.value,onInput:n,disabled:c.value,required:""},null,40,ao),t.employee.errors.pix_cpf?(o(),a("p",no,d(t.employee.errors.pix_cpf),1)):i("",!0)])])])):(o(),a("div",io,[t.employee.payment_method_id===3?(o(),a("div",ro,[mo,e("div",co,[x(e("input",{type:"text",name:"employee-pix-email",id:"employee-pix-email",autocomplete:"on",class:"simple-input disabled:bg-gray-200",placeholder:"E-mail","onUpdate:modelValue":l[9]||(l[9]=s=>t.employee.pix_email=s),disabled:c.value,required:""},null,8,uo),[[f,t.employee.pix_email]]),t.employee.errors.pix_email?(o(),a("p",po,d(t.employee.errors.pix_email),1)):i("",!0)])])):i("",!0),t.employee.payment_method_id===4?(o(),a("div",yo,[_o,e("div",ho,[e("input",{type:"text",minlength:"11",maxlength:"14",name:"employee-pix-cpf",id:"employee-pix-cpf",autocomplete:"on",class:"simple-input disabled:bg-gray-200",placeholder:"CPF",value:C.value,onInput:n,disabled:c.value,required:""},null,40,xo),t.employee.errors.pix_cpf?(o(),a("p",bo,d(t.employee.errors.pix_cpf),1)):i("",!0)])])):i("",!0),t.employee.payment_method_id===5?(o(),a("div",go,[vo,e("div",fo,[e("input",{type:"text",minlength:"11",maxlength:"16",name:"employee-pix-phone-number",id:"employee-pix-phone-number",autocomplete:"on",class:"simple-input disabled:bg-gray-200",placeholder:"Número de telefone",value:U.value,onInput:v,disabled:c.value,required:""},null,40,ko),t.employee.errors.pix_phone_number?(o(),a("p",wo,d(t.employee.errors.pix_phone_number),1)):i("",!0)])])):i("",!0),t.employee.payment_method_id===7?(o(),a("div",$o,[Co,e("div",qo,[x(e("input",{type:"text",name:"employee-pix-token",id:"employee-pix-token",autocomplete:"on",class:"simple-input disabled:bg-gray-200",placeholder:"Token","onUpdate:modelValue":l[10]||(l[10]=s=>t.employee.pix_token=s),disabled:c.value,required:""},null,8,So),[[f,t.employee.pix_token]]),t.employee.errors.pix_token?(o(),a("p",Vo,d(t.employee.errors.pix_token),1)):i("",!0)])])):i("",!0)]))])]),e("section",Eo,[Ao,No,e("div",Io,[e("div",Uo,[Fo,e("div",Po,[x(e("select",{name:"employee-payment-method",id:"employee-payment-method",class:"simple-select disabled:bg-gray-200","onUpdate:modelValue":l[11]||(l[11]=s=>t.employee.overtime_payment_method_id=s),disabled:c.value,required:""},[Mo,(o(!0),a(E,null,I(t.payment_methods_list.filter(s=>[3,4,5,7].includes(s.id)),s=>(o(),a("option",{key:s.id,value:s.id},d(s.name),9,Bo))),128))],8,To),[[Z,t.employee.overtime_payment_method_id]]),t.employee.errors.overtime_payment_method_id?(o(),a("p",jo,d(t.employee.errors.overtime_payment_method_id),1)):i("",!0)])]),_.value?(o(),a("div",Oo,[t.employee.overtime_payment_method_id===3?(o(),a("div",Do,[Lo,e("div",Ro,[x(e("input",{type:"text",name:"employee-overtime-pix-email",id:"employee-overtime-pix-email",autocomplete:"on",class:"simple-input disabled:bg-gray-200",placeholder:"E-mail","onUpdate:modelValue":l[12]||(l[12]=s=>t.employee.pix_email=s),disabled:c.value,required:""},null,8,zo),[[f,t.employee.pix_email]]),t.employee.errors.pix_email?(o(),a("p",Xo,d(t.employee.errors.pix_email),1)):i("",!0)])])):i("",!0),t.employee.overtime_payment_method_id===4?(o(),a("div",Jo,[Ho,e("div",Ko,[e("input",{type:"text",minlength:"11",maxlength:"14",name:"employee-overtime-pix-cpf",id:"employee-overtime-pix-cpf",autocomplete:"on",class:"simple-input disabled:bg-gray-200",placeholder:"CPF",value:C.value,onInput:n,disabled:c.value,required:""},null,40,Zo),t.employee.errors.pix_cpf?(o(),a("p",Wo,d(t.employee.errors.pix_cpf),1)):i("",!0)])])):i("",!0),t.employee.overtime_payment_method_id===5?(o(),a("div",Go,[Qo,e("div",Yo,[e("input",{type:"text",minlength:"11",maxlength:"16",name:"employee-overtime-pix-phone-number",id:"employee-overtime-pix-phone-number",autocomplete:"on",class:"simple-input disabled:bg-gray-200",placeholder:"Número de telefone",value:U.value,onInput:v,disabled:c.value,required:""},null,40,es),t.employee.errors.pix_phone_number?(o(),a("p",ts,d(t.employee.errors.pix_phone_number),1)):i("",!0)])])):i("",!0),t.employee.overtime_payment_method_id===7?(o(),a("div",os,[ss,e("div",ls,[x(e("input",{type:"text",name:"employee-overtime-pix-token",id:"employee-overtime-pix-token",autocomplete:"on",class:"simple-input disabled:bg-gray-200",placeholder:"Token","onUpdate:modelValue":l[13]||(l[13]=s=>t.employee.pix_token=s),disabled:c.value,required:""},null,8,as),[[f,t.employee.pix_token]]),t.employee.errors.pix_token?(o(),a("p",ns,d(t.employee.errors.pix_token),1)):i("",!0)])])):i("",!0)])):i("",!0)])])])],32)]}),footer:V(()=>[t.modal.mode!=="see"?(o(),F(ge,{key:0,class:W({disabled:t.employee.processing}),onClick:l[15]||(l[15]=w=>S())},{default:V(()=>[R(" Cancelar ")]),_:1},8,["class"])):i("",!0),g(be,{class:W({disabled:t.employee.processing||!z.value}),disabled:t.employee.processing||!z.value,onClick:l[16]||(l[16]=w=>B())},{default:V(()=>[R(d(t.modal.primary_button_txt),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"]))}},ds={class:"font-semibold text-xl text-gray-800 leading-tight"},rs={class:"pt-12 print:hidden print:pt-0"},ms={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 print:w-full"},cs={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-5"},us={class:"flex flex-row items-center space-x-3"},ps={class:"py-12 print:py-6"},ys={class:"max-w-7xl mx-auto print:max-w-full"},_s={class:"px-0 print:px-0"},hs={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg print:shadow-none"},xs={class:"flex flex-col"},bs={class:"overflow-x-auto sm:-mx-6 lg:-mx-8"},gs={class:"inline-block min-w-full py-2 sm:px-6 lg:px-8"},vs={class:"overflow-hidden"},fs={class:"min-w-full text-left text-sm print:text-xs font-light"},ks=e("thead",{class:"border-b font-medium dark:border-neutral-500"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-4 text-center"},"#"),e("th",{scope:"col",class:"px-6 py-4 text-center"},"Funcionário"),e("th",{scope:"col",class:"px-6 py-4 text-center"},"Salário"),e("th",{scope:"col",class:"px-6 py-4 text-center"},"Contatos"),e("th",{scope:"col",class:"px-6 py-4 text-center"},"Função"),e("th",{scope:"col",class:"px-6 py-4 text-center print:hidden",colspan:"4"}," Ações")])],-1),ws={class:"border-b transition duration-300 ease-in-out hover:bg-neutral-100 print:break-inside-avoid"},$s={class:"whitespace-nowrap py-4 text-center font-medium"},Cs={class:"whitespace-normal px-6 py-4 text-center trim"},qs={class:"whitespace-nowrap px-2 py-4 text-center"},Ss=["title"],Vs=["href"],Es={class:"whitespace-nowrap px-2 py-4 text-center"},As=["title","onClick"],Ns=["title","onClick"],Is=["title","onClick"],Us=["title","onClick"],Fs={key:1,class:"transition duration-300 ease-in-out hover:bg-neutral-100 print:break-inside-avoid"},Ps=e("td",{class:"whitespace-nowrap px-6 py-4 text-center",colspan:"9"},"Não há funcionários cadastradas no momento!",-1),Ts=[Ps],Ws={__name:"Employee",props:{page:Object,page_options:{type:Array,default:null},employees_list:Array,account_types_list:Array,payment_methods_list:Array,banks_list:Array},setup(t){const $=t,r=ye({id:null,name:"",surname:"",salary:0,agreement:0,contacts:[],function_name:"",transportation_voucher:!1,payment_method_id:null,overtime_payment_method_id:null,bank_id:null,pix_cpf:"",pix_email:"",pix_phone_number:"",pix_token:"",bank_ag:"",account_type_id:null,account_number:""}),m=b(()=>$.employees_list.contacts?JSON.parse($.employees_list.contacts).length:0),k=le(""),T=b(()=>{const _=k.value.toLowerCase();return $.employees_list.filter(p=>{const{id:n,name:h,surname:v,salary:q,contacts:M,function_name:S}=p,B=[(n==null?void 0:n.toString())??"",(h==null?void 0:h.toLowerCase())??"",(v==null?void 0:v.toLowerCase())??"",(q==null?void 0:q.toString())??"",L(q||"-"),(S==null?void 0:S.toLowerCase())??""],u=JSON.parse(M).some(l=>l==null?void 0:l.includes(_));for(let l of B)if(l.includes(_))return!0;return u})}),Q=b(()=>$.employees_list.reduce((_,p)=>_+(p.salary+p.agreement),0)),A=le({mode:"create",show:!1,get title(){switch(this.mode){case"create":return"Criar funcionário";case"update":return"Editar funcionário";case"see":return"Ver informações do funcionário"}},get primary_button_txt(){switch(this.mode){case"create":return"Cadastrar";case"update":return"Atualizar";case"see":return"Fechar"}}}),U=(_,p=null)=>{const n=["update","see"].includes(_);if(p!==null&&n){const h=$.employees_list.find(v=>v.id===p);if(h){const{id:v,name:q,surname:M,salary:S,agreement:B,contacts:u,function_name:l,transportation_voucher:w,payment_method_id:s,overtime_payment_method_id:j,bank_id:O,pix_cpf:X,pix_email:oe,pix_phone_number:D,pix_token:J,bank_ag:H,account_type_id:K,account_number:se}=h;r.id=v,r.name=q,r.surname=M,r.salary=S,r.agreement=B,r.contacts=JSON.parse(u),r.function_name=l,r.transportation_voucher=w,r.payment_method_id=s,r.overtime_payment_method_id=j,r.bank_id=O,r.pix_cpf=X,r.pix_email=oe,r.pix_phone_number=D,r.pix_token=J,r.bank_ag=H,r.account_type_id=K,r.account_number=se}}A.value.mode=_,A.value.show=!0},C=()=>{r.reset(),A.value.show=!1},Y=()=>{r.post(route("employees.store"),{preserveScroll:!0,onSuccess:()=>C(),onError:_=>{console.log(_)}})},ee=()=>{r.put(route("employees.update",r.id),{preserveScroll:!0,onSuccess:()=>C()})},z=(_,p)=>{confirm(`Você tem certeza que deseja DEMITIR o funcionário "${p}"?`)&&r.delete(route("employees.fire",_),{preserveScroll:!0,onSuccess:()=>alert("Funcionário demitido com sucesso!")})},c=(_,p)=>{confirm(`Você tem certeza que deseja EXCLUIR o funcionário "${p}"?`)&&r.delete(route("employees.destroy",_),{preserveScroll:!0,onSuccess:()=>alert("Funcionário deletado com sucesso!")})},te=()=>{switch(A.value.mode){case"create":return Y();case"update":return ee();case"see":return C();default:alert("Método desconhecido. Informar o Técnico.")}};return(_,p)=>(o(),a(E,null,[g(y(_e),{title:t.page.name},null,8,["title"]),g(he,{page:t.page,page_options:t.page_options},{header:V(()=>[e("h2",ds,d(t.page.name)+" | "+d(y(L)(Q.value)),1),g($e,{icon:"plus",onClick:p[0]||(p[0]=n=>U("create")),title:"Cadastrar Employee",class:"print:hidden"})]),default:V(()=>[e("div",rs,[e("div",ms,[e("div",cs,[e("div",us,[g(y(Se),{class:"w-5 y-5"}),x(e("input",{type:"text",name:"search_term",id:"search_term",autocomplete:"on",class:"simple-input",autofocus:"true",placeholder:"Pesquisar termo...","onUpdate:modelValue":p[1]||(p[1]=n=>k.value=n)},null,512),[[f,k.value]])])])])]),e("div",ps,[e("div",ys,[e("div",_s,[e("div",hs,[e("div",xs,[e("div",bs,[e("div",gs,[e("div",vs,[e("table",fs,[ks,e("tbody",null,[T.value.length?(o(!0),a(E,{key:0},I(T.value,n=>(o(),a("tr",ws,[e("td",$s,d(n.id),1),e("td",Cs,d(n.name+" "+n.surname),1),e("td",qs,[R(d(y(L)(n.salary+n.agreement))+" ",1),n.agreement?(o(),a("span",{key:0,title:"Salário: "+y(L)(n.salary)+" + Acordo: "+y(L)(n.agreement),class:"inline-flex items-center rounded-md bg-gray-50 px-2 py-1 text-xs font-medium text-gray-600 ring-1 ring-inset ring-gray-500/10 cursor-help"},"OBS",8,Ss)):i("",!0)]),e("td",{class:W(["grid px-2 py-4 text-center",{"grid-cols-1":m.value===1,"grid-cols-2":m.value>1}])},[(o(!0),a(E,null,I(JSON.parse(n.contacts),h=>(o(),a("a",{href:"tel:"+h,class:"px-2 hover:text-green-500 active:text-green-700"},d(y(G)(h)),9,Vs))),256))],2),e("td",Es,d(n.function_name),1),e("td",{class:"whitespace-nowrap px-4 py-4 text-center cursor-pointer hover:text-yellow-700 active:text-yellow-900 select-none print:hidden",title:"EDITAR: "+n.name+" "+n.surname,onClick:h=>U("update",n.id)},[g(y(de),{class:"w-5 h-5 m-auto"})],8,As),e("td",{class:"whitespace-nowrap px-4 py-4 text-center cursor-pointer hover:text-indigo-700 active:text-indigo-900 select-none print:hidden",title:"VER: "+n.name+" "+n.surname,onClick:h=>U("see",n.id)},[g(y(me),{class:"w-5 h-5 m-auto"})],8,Ns),e("td",{class:"whitespace-nowrap px-4 py-4 text-center cursor-pointer hover:text-orange-700 active:text-orange-900 select-none print:hidden",title:"Demitir: "+n.name+" "+n.surname,onClick:h=>z(n.id,n.name+" "+n.surname)},[g(y(Ve),{class:"w-5 h-5 m-auto"})],8,Is),e("td",{class:"whitespace-nowrap px-4 py-4 text-center cursor-pointer hover:text-red-700 active:text-red-900 select-none print:hidden",title:"EXCLUIR: "+n.name+" "+n.surname,onClick:h=>c(n.id,n.name+" "+n.surname)},[g(y(re),{class:"w-5 h-5 m-auto"})],8,Us)]))),256)):(o(),a("tr",Fs,Ts))])])])])])])])])])]),g(is,{modal:A.value,employee:y(r),account_types_list:t.account_types_list,payment_methods_list:t.payment_methods_list,banks_list:t.banks_list,onSubmit:te,onClose:C},null,8,["modal","employee","account_types_list","payment_methods_list","banks_list"]),g(qe,{mode:["rollup","print_page","link"],link_type:["previous"],link:[_.route("employees.previous")]},null,8,["link"])]),_:1},8,["page","page_options"])],64))}};export{Ws as default};
