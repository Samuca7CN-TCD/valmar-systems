import{d as L,l as f,q as W,p as G,C as H,o,e as a,s as p,v as y,a as e,i as B,F,g as X,t as u,h as i,T as J,c as D,w as C,n as N,u as n,f as T,b as j,x as O}from"./app-BB2IqzEf.js";import{_ as K}from"./CreateUpdateModal-f_GmX0mz.js";import{_ as Q}from"./PrimaryButton-DfsS63Zr.js";import{_ as Y}from"./SecondaryButton-B769u14w.js";import{f as V,i as Z,t as A,h as ee}from"./general-BfW9S8hN.js";import{r as te}from"./PlusIcon-DuE_SBpR.js";import{r as se,a as oe}from"./XMarkIcon-DAYCQyin.js";import{r as ae}from"./AppLayout-B-F5GOk8.js";import{r as le}from"./EyeIcon-C4NoPtCl.js";const ie={class:"relative dropdown-container"},de=["disabled"],re={key:0,class:"absolute w-full mt-2 bg-white border rounded shadow-md max-h-40 overflow-y-auto z-10"},ne=["onClick"],ce={class:"flex gap-2 justify-between"},ue={class:"flex gap-2"},me={class:"font-bold text-gray-800"},ve={class:"text-gray-600"},_e={class:"text-gray-600 justify-end"},he={class:"text-gray-600"},pe={key:0,class:"px-4 py-2 text-gray-500"},xe={__name:"SelectSearchSell",props:{options:{type:Array,required:!0,default:()=>[]},disable_services_inputs:{type:Boolean,default:!0},initialValue:{type:Number,default:null}},emits:["update:modelValue"],setup(t,{emit:P}){const x=t,c=P,g=L(""),m=L(!1),w=L(x.options.find(r=>r.id===x.initialValue)),q=()=>{m.value=!0},S=()=>{m.value=!1},b=r=>{r?(g.value=`#${r.id} ${r.entity_name||"N/A"} | R$ ${r.value?r.value.toFixed(2):"0.00"} (${r.date?new Date(r.date).toLocaleDateString():"N/A"})`,w.value=r.id):(g.value="",w.value=null)},U=r=>{typeof r=="string"?(g.value=r,w.value=null):(b(r),S()),c("update:modelValue",w.value)},k=f(()=>x.options.filter(r=>r.motive&&r.motive.toLowerCase().includes(g.value.toLowerCase())||r.entity_name&&r.entity_name.toLowerCase().includes(g.value.toLowerCase())||String(r.id).includes(g.value))),d=r=>{r.target.closest(".dropdown-container")||S()};return W(()=>{if(document.addEventListener("click",d),x.initialValue!==null&&x.initialValue!==void 0){const r=x.options.find(v=>v.id===x.initialValue);r&&(b(r),c("update:modelValue",r.id))}}),G(()=>x.initialValue,r=>{if(r!=null){const v=x.options.find(_=>_.id===r);v&&(b(v),c("update:modelValue",v.id))}else b(null)}),H(()=>{document.removeEventListener("click",d)}),(r,v)=>(o(),a("div",ie,[p(e("input",{"onUpdate:modelValue":v[0]||(v[0]=_=>g.value=_),onFocus:q,onClick:v[1]||(v[1]=B(()=>{},["stop"])),onInput:v[2]||(v[2]=_=>U(_.target.value)),disabled:t.disable_services_inputs,class:"simple-input disabled:bg-gray-200",type:"text",placeholder:"Selecione ou escreva o ID, cliente ou motivo da venda"},null,40,de),[[y,g.value]]),m.value?(o(),a("ul",re,[(o(!0),a(F,null,X(k.value,(_,R)=>(o(),a("li",{key:R,onClick:z=>U(_),class:"px-4 py-2 space-y-1 cursor-pointer hover:bg-gray-200 text-sm"},[e("div",ce,[e("div",ue,[e("div",me,"#"+u(_.id),1),e("div",ve,u(_.entity_name||"N/A"),1)]),e("div",_e,u(_.date?new Date(_.date).toLocaleDateString():"N/A"),1)]),e("div",he,"R$"+u(_.accounting?_.accounting.total_value.toFixed(2):"0.00"),1)],8,ne))),128)),k.value.length===0?(o(),a("li",pe," Nenhuma opção encontrada ")):i("",!0)])):i("",!0)]))}},be={class:"pb-12 space-y-12 divide-y-2"},ye={class:"py-4"},ge=e("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Informações Básicas",-1),fe=e("p",{class:"mt-1 text-sm leading-6 text-gray-600"},"Informações sobre o serviço como título do serviço, nome do cliente, valores de pagamento e prazo para conclusão",-1),we={class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"},ke={class:"sm:col-span-6"},Ve=e("label",{for:"service-title",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"Título",-1),$e={class:"mt-2"},De=["disabled"],Ce={key:0,class:"text-red-500 text-sm"},qe={class:"sm:col-span-3"},Ue=e("label",{for:"service-client",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"Cliente",-1),Se={class:"mt-2"},ze=["disabled"],Ne={key:0,class:"text-red-500 text-sm"},Ae={class:"sm:col-span-3"},Le=e("label",{for:"service-total-amount",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"Valor total",-1),Pe={class:"mt-2"},Re=["disabled"],Te={key:0,class:"text-red-500 text-sm"},je={class:"sm:col-span-6"},Ee=e("label",{for:"service-deadline",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"Prazo para conclusão",-1),Ie={class:"mt-2"},Me=["min","disabled"],Oe={key:0,class:"text-red-500 text-sm"},Be={key:0,class:"sm:col-span-6"},Fe=e("label",{for:"service-delay-reason",class:"block text-sm font-medium leading-6 text-gray-900"},"Motivo do Atraso",-1),Xe={class:"mt-2"},We=["disabled"],Ge={key:0,class:"text-red-500 text-sm"},He={class:"sm:col-span-6"},Je=e("label",{for:"service-observations",class:"block text-sm font-medium leading-6 text-gray-900"},"Observações",-1),Ke={class:"mt-2"},Qe=["disabled"],Ye={key:0,class:"text-red-500 text-sm"},Ze={class:"sm:col-span-6"},et=e("label",{for:"service-sell",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"Venda relacionada",-1),tt={class:"mt-2"},st={key:0,class:"text-red-500 text-sm"},ot={key:0,class:"py-4"},at={class:"sm:col-span-6"},lt=["title"],it={class:"flex h-6 items-center"},dt=["disabled"],rt={class:"text-sm leading-6"},nt={key:1,class:"py-4"},ct={key:0},ut=e("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Pagamentos concluídos",-1),mt=e("p",{class:"mt-1 text-sm leading-6 text-gray-600"},"Insira o adiantamento ou os serviços parciais já realizando desta título",-1),vt=[ut,mt],_t={key:1},ht=e("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Lista de pagamentos concluídos ",-1),pt=e("p",{class:"mt-1 text-sm leading-6 text-gray-600"},"Abaixo está listado os registros de serviços realizados. Para adicionar novos serviços, ou remover algum serviço existente, entre na seção de serviço.",-1),xt=[ht,pt],bt={key:2},yt=e("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Realize um novo pagamento",-1),gt=e("p",{class:"mt-1 text-sm leading-6 text-gray-600"},"Adicione um serviço ou remova um serviço existente.",-1),ft=[yt,gt],wt={key:3},kt=e("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Veja a lista de pagamentos realizados",-1),Vt=e("p",{class:"mt-1 text-sm leading-6 text-gray-600"},"Abaixo segue a lista dos pagamentos concluídos deste serviço",-1),$t=[kt,Vt],Dt={key:4,class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-4 sm:grid-cols-6"},Ct={class:"col-span-2"},qt=e("label",{for:"record-amount",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"Valor (R$)",-1),Ut={class:"mt-2"},St=["max","disabled"],zt={class:"text-gray-400 text-xs py-1"},Nt={key:0,class:"text-red-500 text-sm"},At={class:"sm:col-span-2"},Lt=e("label",{for:"record-date",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"Data do serviço",-1),Pt={class:"mt-2"},Rt=["max","disabled"],Tt=e("p",{class:"text-gray-400 text-xs py-1"},"Não aceita datas no futuro",-1),jt={key:0,class:"text-red-500 text-sm"},Et={class:"sm:col-span-2"},It=e("label",{for:"record-date",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"Forma de Pagamento",-1),Mt={class:"mt-2"},Ot=e("option",{value:"pix"},"PIX",-1),Bt=e("option",{value:"dinheiro"},"Dinheiro",-1),Ft=e("option",{value:"cartao_credito"},"Cartão de Crédito",-1),Xt=e("option",{value:"cartao_debito"},"Cartão de Débito",-1),Wt=e("option",{value:"ted"},"TED",-1),Gt=e("option",{value:"cheque"},"Cheque",-1),Ht=[Ot,Bt,Ft,Xt,Wt,Gt],Jt={key:0,class:"text-red-500 text-sm"},Kt={key:5,class:"w-full py-5 flex justify-end"},Qt=["disabled"],Yt={key:6,class:"flex flex-col"},Zt={class:"overflow-x-auto sm:-mx-6 lg:-mx-8"},es={class:"inline-block min-w-full py-2 sm:px-6 lg:px-8"},ts={class:"overflow-hidden"},ss={class:"min-w-full text-left text-sm font-light"},os={class:"border-b bg-white font-medium"},as=e("th",{scope:"col",class:"px-6 py-4 text-center"},"Valor",-1),ls=e("th",{scope:"col",class:"px-6 py-4 text-center"},"Data",-1),is=e("th",{scope:"col",class:"px-6 py-4 text-center"},"Método de Pagamento ",-1),ds={key:0,scope:"col",class:"px-6 py-4 text-center"},rs={key:1,scope:"col",class:"px-6 py-4 text-center"},ns={class:"border-b bg-white"},cs={class:"whitespace-nowrap px-1 text-center"},us={key:0,class:"w-full relative flex flex-wrap items-stretch"},ms=e("span",{class:"w-1/4 select-none flex items-center whitespace-nowrap rounded-l border border-r-0 border-solid border-neutral-300 px-1 py-[0.25rem] text-center text-xs font-normal leading-[1.6] text-neutral-700",id:"basic-addon1"},"R$",-1),vs=["max","onUpdate:modelValue"],_s={key:1},hs={class:"whitespace-nowrap px-1 py-4 text-center"},ps={key:0,class:"w-full relative flex flex-wrap items-stretch"},xs=["max","onUpdate:modelValue"],bs={key:1},ys={class:"whitespace-nowrap px-1 py-4 text-center"},gs={key:0,class:"w-full relative flex flex-wrap items-stretch"},fs=["onUpdate:modelValue"],ws=e("option",{value:"pix"},"PIX",-1),ks=e("option",{value:"dinheiro"},"Dinheiro",-1),Vs=e("option",{value:"cartao_credito"},"Cartão de Crédito ",-1),$s=e("option",{value:"cartao_debito"},"Cartão de Débito",-1),Ds=e("option",{value:"ted"},"TED",-1),Cs=e("option",{value:"cheque"},"Cheque",-1),qs=[ws,ks,Vs,$s,Ds,Cs],Us={key:1},Ss={key:0,class:"whitespace-nowrap px-6 py-4 select-none"},zs={key:1,class:"whitespace-nowrap px-6 py-4 select-none"},Ns={key:2,class:"text-red-500 text-sm"},As={key:3,class:"text-red-500 text-sm"},Ls={key:0,class:"text-red-500 text-sm py-5 text-center"},Ps={key:1,class:"text-red-500 text-sm py-5 text-center"},Rs={key:2,class:"text-red-500 text-sm py-5 text-center"},Ts={key:7,class:"py-5 text-gray-400 text-center"},Gs={__name:"CreateUpdatePayModal",props:{modal:Object,service:{type:Object,default:null},sells_list:{type:Array,default:[]}},emits:["close","submit"],setup(t,{emit:P}){const x=P,c=t,g=f(()=>c.service.records_list.data.length+1),m=f(()=>U&&c.service.total_value-c.service.records_list.data.reduce((h,l)=>h+l.amount,0)),w=f(()=>{const h=new Date;return c.service.records_list.data.some(l=>new Date(l.date)>h)}),q=f(()=>c.service.records_list.data.some(h=>h.amount<=0)),S=f(()=>c.service.records_list.data.sort((h,l)=>new Date(h.date)-new Date(l.date))),b=f(()=>c.modal.mode==="pay"||c.modal.mode==="see"),U=f(()=>c.modal.mode!=="create"||c.service.records_list.enable_records),k=f(()=>c.service.title.length&&c.service.client.length&&c.service.total_value>0),d=J({id:g,amount:0,past:!1,register_date:V(),payment_method:"cartao_credito",filepath:null}),r=L(!1),v=()=>{if(c.service.records_list.enable_records&&c.service.records_list.data.length)if(confirm("Tem certeza que deseja desmarcar? Todos os registros serão excluídos!"))c.service.records_list.data.length=[],d.reset();else return;c.service.records_list.enable_records=!c.service.records_list.enable_records},_=()=>{if(!d.amount||d.amount>m.value){d.errors.amount=`O valor do registro deve ser maior que R$ 0,00 e menor que ${A(m.value)}`;return}if(d.errors.amount="",!d.register_date||new Date(d.register_date)>new Date){d.errors.date=`A data do registro deve ser menor ou igual a ${V()}`;return}if(d.errors.date="",!d.payment_method){d.errors.payment_method="Um método de pagamento deve ser selecionado";return}d.errors.payment_method="",r.value||(d.filepath=null),c.service.records_list.data.push({...d}),r.value=!1,d.reset()},R=(h,l=null)=>{if(c.modal.mode==="create"){c.service.records_list.data=c.service.records_list.data.filter(s=>s.id!==h);return}else confirm("Você tem certeza que deseja excluir esse registro? (Essa ação não pode ser desfeita)")&&l.delete(route("records.destroy",h),{preserveScroll:!0,onSuccess:()=>{c.service.records_list.data=c.service.records_list.data.filter(s=>s.id!==h)}})},z=()=>{x("close")},E=()=>{x("submit")};return(h,l)=>(o(),D(K,{show:t.modal.show,onClose:z},{icon:C(()=>[e("div",{class:N(["mx-auto shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-400 sm:mx-0 sm:h-10 sm:w-10",{"bg-yellow-400":t.modal.mode==="update","bg-green-400":t.modal.mode==="pay","bg-gray-400":t.modal.mode==="see"}])},[t.modal.mode==="create"?(o(),D(n(te),{key:0,class:"w-5 h-5 text-white"})):i("",!0),t.modal.mode==="update"?(o(),D(n(se),{key:1,class:"w-5 h-5 text-white"})):i("",!0),t.modal.mode==="pay"?(o(),D(n(ae),{key:2,class:"w-5 h-5 text-white"})):i("",!0),t.modal.mode==="see"?(o(),D(n(le),{key:3,class:"w-5 h-5 text-white"})):i("",!0)],2)]),title:C(()=>[T(u(t.modal.title),1)]),content:C(()=>[e("form",{onSubmit:B(E,["prevent"])},[e("div",be,[e("section",ye,[ge,fe,e("div",we,[e("div",ke,[Ve,e("div",$e,[p(e("input",{type:"text",name:"service-title",id:"service-title",autocomplete:"on",class:"simple-input disabled:bg-gray-200",autofocus:"true",placeholder:"Título da título",disabled:b.value,"onUpdate:modelValue":l[0]||(l[0]=s=>t.service.title=s),required:""},null,8,De),[[y,t.service.title]]),t.service.errors.title?(o(),a("p",Ce,u(t.service.errors.title),1)):i("",!0)])]),e("div",qe,[Ue,e("div",Se,[p(e("input",{type:"text",name:"service-client",id:"service-client",autocomplete:"on",class:"simple-input disabled:bg-gray-200",placeholder:"Nome do cliente",disabled:b.value,"onUpdate:modelValue":l[1]||(l[1]=s=>t.service.client=s),required:""},null,8,ze),[[y,t.service.client]]),t.service.errors.client?(o(),a("p",Ne,u(t.service.errors.client),1)):i("",!0)])]),e("div",Ae,[Le,e("div",Pe,[p(e("input",{id:"service-total-amount",name:"service-total-amount",type:"number",step:"0.01",min:"0",autocomplete:"off",class:"simple-input disabled:bg-gray-200",placeholder:"Valor total inicial da título",disabled:b.value,"onUpdate:modelValue":l[2]||(l[2]=s=>t.service.total_value=s),required:""},null,8,Re),[[y,t.service.total_value]]),t.service.errors.total_value?(o(),a("p",Te,u(t.service.errors.total_value),1)):i("",!0)])]),e("div",je,[Ee,e("div",Ie,[p(e("input",{type:"date",name:"service-deadline",id:"service-deadline",autocomplete:"on",class:"simple-input disabled:bg-gray-200",autofocus:"true",placeholder:"Prazo para conclusão",min:n(V)(),disabled:b.value||t.modal.mode!=="create","onUpdate:modelValue":l[3]||(l[3]=s=>t.service.deadline=s),required:""},null,8,Me),[[y,t.service.deadline]]),t.service.errors.deadline?(o(),a("p",Oe,u(t.service.errors.deadline),1)):i("",!0)])]),t.modal.mode!=="create"&&n(Z)(t.service.deadline)<4?(o(),a("div",Be,[Fe,e("div",Xe,[p(e("textarea",{type:"text",name:"service-delay-reason",id:"service-delay-reason",autocomplete:"on",class:"simple-input disabled:bg-gray-200",placeholder:"Descreva o motivo do atraso do serviço",disabled:b.value,"onUpdate:modelValue":l[4]||(l[4]=s=>t.service.delay_reason=s)},null,8,We),[[y,t.service.delay_reason]]),t.service.errors.delay_reason?(o(),a("p",Ge,u(t.service.errors.delay_reason),1)):i("",!0)])])):i("",!0),e("div",He,[Je,e("div",Ke,[p(e("textarea",{type:"text",name:"service-observations",id:"service-observations",autocomplete:"on",class:"simple-input disabled:bg-gray-200",placeholder:"Descreva a título mais detalhadamente ou insira informações adicionais",disabled:b.value,"onUpdate:modelValue":l[5]||(l[5]=s=>t.service.observations=s)},null,8,Qe),[[y,t.service.observations]]),t.service.errors.observations?(o(),a("p",Ye,u(t.service.errors.observations),1)):i("",!0)])]),e("div",Ze,[et,e("div",tt,[j(xe,{options:t.sells_list,"onUpdate:modelValue":l[6]||(l[6]=s=>t.service.previous_id=s),disable_services_inputs:b.value,initialValue:t.service.previous_id},null,8,["options","disable_services_inputs","initialValue"]),t.service.errors.previous_id?(o(),a("p",st,u(t.service.errors.previous_id),1)):i("",!0)])])])]),t.modal.mode==="create"?(o(),a("section",ot,[e("div",at,[e("div",{class:"mt-2 relative flex gap-x-3",title:k.value?"":"Preencha ao menos a título, o cliente e o valor total."},[e("div",it,[e("input",{id:"service-enable-records",name:"service-enable-records",type:"checkbox",onChange:l[7]||(l[7]=s=>v()),disabled:!k.value,class:"h-4 w-4 rounded border-gray-300 text-green-600 focus:ring-green-600 disabled:border-gray-100 disabled:text-green-200 disabled:bg-gray-300"},null,40,dt)]),e("div",rt,[e("label",{for:"service-enable-records",class:N(["font-medium text-gray-900 select-none cursor-pointer",{"text-gray-300":!k.value,"cursor-not-allowed":!k.value}])},"Adicionar pagamentos concluídos",2)])],8,lt)])])):i("",!0),U.value?(o(),a("section",nt,[t.modal.mode==="create"?(o(),a("div",ct,vt)):i("",!0),t.modal.mode==="update"?(o(),a("div",_t,xt)):i("",!0),t.modal.mode==="pay"?(o(),a("div",bt,ft)):i("",!0),t.modal.mode==="see"?(o(),a("div",wt,$t)):i("",!0),t.modal.mode!=="update"&&t.modal.mode!=="see"?(o(),a("div",Dt,[e("div",Ct,[qt,e("div",Ut,[p(e("input",{id:"record-amount",name:"record-amount",type:"number",step:"0.01",min:"0",max:m.value,autocomplete:"off",class:"simple-input disabled:bg-gray-200 disabled:opacity-75",disabled:m.value==0,placeholder:"Valor do serviço parcial","onUpdate:modelValue":l[8]||(l[8]=s=>n(d).amount=s)},null,8,St),[[y,n(d).amount]]),e("p",zt,"Valor Restante: "+u(n(A)(m.value)),1),n(d).errors.amount?(o(),a("p",Nt,u(n(d).errors.amount),1)):i("",!0)])]),e("div",At,[Lt,e("div",Pt,[p(e("input",{id:"record-date",name:"record-date",type:"date",max:n(V)(),autocomplete:"off",class:"simple-input disabled:bg-gray-200",disabled:m.value==0,placeholder:"Data de serviço do valor parcial","onUpdate:modelValue":l[9]||(l[9]=s=>n(d).register_date=s)},null,8,Rt),[[y,n(d).register_date]]),Tt,n(d).errors.register_date?(o(),a("p",jt,u(n(d).errors.register_date),1)):i("",!0)])]),e("div",Et,[It,e("div",Mt,[p(e("select",{name:"payment_method",class:"simple-input","onUpdate:modelValue":l[10]||(l[10]=s=>n(d).payment_method=s)},Ht,512),[[O,n(d).payment_method]]),n(d).errors.payment_method?(o(),a("p",Jt,u(n(d).errors.payment_method),1)):i("",!0)])])])):i("",!0),t.modal.mode!=="update"&&t.modal.mode!=="see"?(o(),a("div",Kt,[e("button",{type:"button",class:"w-full px-4 py-2 bg-blue-600 border border-gray-300 rounded-md font-semibold text-xs text-white uppercase tracking-widest shadow-sm hover:bg-blue-700 focus:outline-none focus:border-blue-300 focus:ring focus:ring-blue-200 active:text-gray-800 active:bg-gray-50 disabled:opacity-25 transition",disabled:!n(d).amount||!n(d).register_date||!n(d).payment_method||n(d).amount>m.value,onClick:l[11]||(l[11]=s=>_())}," Inserir registro ",8,Qt)])):i("",!0),t.service.records_list.data.length?(o(),a("div",Yt,[e("div",Zt,[e("div",es,[e("div",ts,[e("table",ss,[e("thead",os,[e("tr",null,[as,ls,is,t.modal.mode!=="create"?(o(),a("th",ds,"Usuário")):i("",!0),t.modal.mode!=="pay"&&t.modal.mode!=="see"?(o(),a("th",rs,"Excluir")):i("",!0)])]),e("tbody",null,[(o(!0),a(F,null,X(S.value,s=>{var I,M;return o(),a("tr",ns,[e("td",cs,[t.modal.mode!=="update"&&!s.past?(o(),a("div",us,[ms,p(e("input",{id:"record_item-amount-edit",name:"record_item-amount-edit",type:"number",step:"0.01",min:"0",max:m.value,autocomplete:"off",class:"relative m-0 block min-w-0 flex-auto rounded-r border border-solid border-neutral-300 bg-transparent bg-clip-padding px-1 py-[0.25rem] text-xs font-normal leading-[1.6] text-neutral-700 outline-none transition duration-200 ease-in-out focus:z-[3] focus:border-primary focus:text-neutral-700 focus:shadow-[inset_0_0_0_1px_rgb(59,113,202)] focus:outline-none disabled:bg-gray-200",placeholder:"Editar serviço parcial","onUpdate:modelValue":$=>s.amount=$},null,8,vs),[[y,s.amount]])])):(o(),a("p",_s,u(n(A)(s.amount)),1))]),e("td",hs,[t.modal.mode!=="update"&&!s.past?(o(),a("div",ps,[p(e("input",{id:"record-date",name:"record-date",type:"date",max:n(V)(),autocomplete:"off",class:"w-full relative m-0 block min-w-0 flex-auto rounded-r border border-solid border-neutral-300 bg-transparent bg-clip-padding px-1 py-[0.25rem] text-xs font-normal leading-[1.6] text-neutral-700 outline-none transition duration-200 ease-in-out focus:z-[3] focus:border-primary focus:text-neutral-700 focus:shadow-[inset_0_0_0_1px_rgb(59,113,202)] focus:outline-none disabled:bg-gray-200",placeholder:"Data de serviço do valor parcial","onUpdate:modelValue":$=>s.register_date=$},null,8,xs),[[y,s.register_date]])])):(o(),a("p",bs,u(n(V)(s.register_date,!0)),1))]),e("td",ys,[t.modal.mode!=="update"&&!s.past?(o(),a("div",gs,[p(e("select",{name:"payment_method",class:"w-full relative m-0 block min-w-0 flex-auto rounded-r border border-solid border-neutral-300 bg-transparent bg-clip-padding px-1 py-[0.25rem] text-xs font-normal leading-[1.6] text-neutral-700 outline-none transition duration-200 ease-in-out focus:z-[3] focus:border-primary focus:text-neutral-700 focus:shadow-[inset_0_0_0_1px_rgb(59,113,202)] focus:outline-none disabled:bg-gray-200","onUpdate:modelValue":$=>s.payment_method=$},qs,8,fs),[[O,s.payment_method]])])):(o(),a("p",Us,u(n(ee)(s.payment_method)),1))]),t.modal.mode!=="create"?(o(),a("td",Ss,u(((M=(I=s==null?void 0:s.procedure)==null?void 0:I.user)==null?void 0:M.name)||h.$page.props.auth.user.name||"Não identificado"),1)):i("",!0),t.modal.mode!=="pay"&&t.modal.mode!=="see"?(o(),a("td",zs,[j(n(oe),{class:"w-5 h-5 cursor-pointer m-auto text-gray-700 hover:text-red-500 active:text-red-700",onClick:$=>R(s.id,s),title:"Remover este registro"},null,8,["onClick"])])):i("",!0),s.errors.amount?(o(),a("p",Ns,u(s.errors.amount),1)):i("",!0),s.errors.date?(o(),a("p",As,u(s.errors.date),1)):i("",!0)])}),256))])]),m.value<0?(o(),a("p",Ls,"A soma dos serviços não pode ser maior que "+u(n(A)(t.service.total_value)),1)):i("",!0),w.value?(o(),a("p",Ps," Todas as datas de registro devem ser não nulas e menores ou iguais a "+u(n(V)(new Date)),1)):i("",!0),q.value?(o(),a("p",Rs," Todos os valores devem ser maiores que R$ 0,00")):i("",!0)])])])])):(o(),a("div",Ts,"Não há registro de pagamento no momento. "))])):i("",!0)])],32)]),footer:C(()=>[t.modal.mode!=="see"?(o(),D(Y,{key:0,class:N({disabled:t.service.processing}),onClick:l[12]||(l[12]=s=>z())},{default:C(()=>[T(" Cancelar ")]),_:1},8,["class"])):i("",!0),j(Q,{class:N({disabled:t.service.processing||m.value<0||w.value||q.value}),disabled:t.service.processing||m.value<0||w.value||q.value,onClick:l[13]||(l[13]=s=>t.modal.mode==="see"?z():E())},{default:C(()=>[T(u(t.modal.primary_button_txt),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"]))}};export{Gs as _};
