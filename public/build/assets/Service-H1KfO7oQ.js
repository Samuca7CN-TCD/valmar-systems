import{d as r,o as n,a as e,k as B,c as X,w as x,b as u,f as g,n as T,h as Y,e as d,s as D,u as c,v as z,t as l,m as ke,T as K,r as I,p as $e,y as V,D as Ce,Z as Se,F as U,g as Q,z as L}from"./app-nxAEGYom.js";import{_ as Me}from"./AppLayout-CD0ic9x9.js";import{_ as De}from"./CreateUpdatePayModal-B40Vo8LK.js";import{_ as Ae}from"./FloatButton-SJT_ARUZ.js";import{_ as Ee}from"./ExtraOptionsButton-dJzcEZHb.js";import{f as C,k as W,t as q}from"./general-D_37hS-e.js";/* empty css                    */import{_ as ee}from"./CreateUpdateModal-Cr9-t6ta.js";import{_ as te}from"./PrimaryButton-DeVtbJBJ.js";import{_ as se}from"./SecondaryButton-BQZMIPc2.js";import{r as oe}from"./XMarkIcon-B7I7P2AW.js";import{r as Te}from"./MagnifyingGlassIcon-DL4qMqmq.js";import{r as Ne}from"./BanknotesIcon-BbnfpIH-.js";import{r as Pe}from"./PencilIcon-BWmfVFjA.js";import"./ClientSelector-CaM6P7Eb.js";import"./lodash-Bti6KRHC.js";import"./PlusIcon-C0zORJhm.js";import"./EyeIcon-DwYvHqED.js";import"./PrinterIcon-CEXel4vh.js";import"./ArrowUturnLeftIcon-CCc7Pjxd.js";import"./Modal-BAbBhbNO.js";function ae(o,_){return n(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})])}function je(o,_){return n(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}const Ie={class:"mx-auto shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-yellow-400 sm:mx-0 sm:h-10 sm:w-10"},Oe={class:"pb-12 space-y-12 divide-y-2"},Ve={class:"py-4"},Be=e("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Dados da entrega",-1),ze=e("p",{class:"mt-1 text-sm leading-6 text-gray-600"},"Informe a data da entrega do serviço e, se o deadline for a menos de 4 dias da data da entrega, informe o motivo do atraso.",-1),Fe={class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"},He={class:"sm:col-span-6"},Re=e("label",{for:"service-deadline",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"Data da entrega",-1),Ue={class:"mt-2"},Le=["max"],qe={key:0,class:"text-red-500 text-sm"},Ze={key:0,class:"sm:col-span-6"},Ge=e("label",{for:"service-delay-reason",class:"block text-sm font-medium leading-6 text-gray-900"},"Motivo do Atraso",-1),Je={class:"mt-2"},Ke={key:0,class:"text-red-500 text-sm"},Qe={__name:"MotivoAtrasoModal",props:{showMotivoAtrasoModal:{type:Boolean,default:!0},service:{type:Object,default:null}},emits:["close","submit"],setup(o,{emit:_}){const v=_,s=o,w=()=>{v("close")},p=()=>{v("submit")},y=B(()=>{if(!s.service.completion_date||!s.service.deadline)return!1;const k=new Date(s.service.deadline+"T00:00:00"),h=new Date(s.service.completion_date+"T00:00:00"),m=k.getTime()-h.getTime();return Math.ceil(m/(1e3*60*60*24))<4}),b=B(()=>{var k;return y.value&&!((k=s.service.delay_reason)!=null&&k.length)});return(k,h)=>(n(),X(ee,{show:o.showMotivoAtrasoModal,onClose:w},{icon:x(()=>[e("div",Ie,[u(c(ae),{class:"w-5 h-5 text-white"})])]),title:x(()=>[g(" Entregar serviço ")]),content:x(()=>[e("form",{onSubmit:Y(p,["prevent"])},[e("div",Oe,[e("section",Ve,[Be,ze,e("div",Fe,[e("div",He,[Re,e("div",Ue,[D(e("input",{type:"date",name:"service-completion-date",id:"service-completion-date",autocomplete:"on",class:"simple-input disabled:bg-gray-200",autofocus:"true",placeholder:"Data de entrega do serviço",max:c(C)(),"onUpdate:modelValue":h[0]||(h[0]=m=>o.service.completion_date=m),required:""},null,8,Le),[[z,o.service.completion_date]]),o.service.errors.completion_date?(n(),r("p",qe,l(o.service.errors.completion_date),1)):d("",!0)])]),y.value?(n(),r("div",Ze,[Ge,e("div",Je,[D(e("textarea",{type:"text",name:"service-delay-reason",id:"service-delay-reason",autocomplete:"on",class:"simple-input disabled:bg-gray-200",placeholder:"Descreva o motivo do atraso do serviço","onUpdate:modelValue":h[1]||(h[1]=m=>o.service.delay_reason=m)},null,512),[[z,o.service.delay_reason]]),o.service.errors.delay_reason?(n(),r("p",Ke,l(o.service.errors.delay_reason),1)):d("",!0)])])):d("",!0)])])])],32)]),footer:x(()=>{var m,M;return[u(se,{onClick:h[2]||(h[2]=N=>w())},{default:x(()=>[g(" Cancelar ")]),_:1}),u(te,{class:T({disabled:o.service.processing||!((m=o.service.completion_date)!=null&&m.length)||b.value}),disabled:o.service.processing||!((M=o.service.completion_date)!=null&&M.length)||b.value,onClick:h[3]||(h[3]=N=>p())},{default:x(()=>[g("Entregar")]),_:1},8,["class","disabled"])]}),_:1},8,["show"]))}},We={class:"mx-auto shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-400 sm:mx-0 sm:h-10 sm:w-10"},Xe={class:"pb-12 space-y-12 divide-y-2"},Ye={class:"py-4"},et={class:"text-base font-semibold leading-7 text-gray-900"},tt=e("p",{class:"mt-1 text-sm leading-6 text-gray-600"},"Informe o motivo do cancelamento deste serviço",-1),st={class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"},ot={class:"sm:col-span-6"},at=e("label",{for:"service-delay-reason",class:"block text-sm font-medium leading-6 text-gray-900"},"Motivo do Cancelamento",-1),nt={class:"mt-2"},it={key:0,class:"text-red-500 text-sm"},rt={__name:"MotivoCancelamentoModal",props:{showMotivoCancelamentoModal:{type:Boolean,default:!0},service:{type:Object,default:null}},emits:["close","submit"],setup(o,{emit:_}){const v=_,s=()=>{v("close")},w=()=>{v("submit")};return(p,y)=>(n(),X(ee,{show:o.showMotivoCancelamentoModal,onClose:s},{icon:x(()=>[e("div",We,[u(c(oe),{class:"w-5 h-5 text-white"})])]),title:x(()=>[g(" Cancelar serviço ")]),content:x(()=>[e("form",{onSubmit:Y(w,["prevent"])},[e("div",Xe,[e("section",Ye,[e("h2",et,l(o.service.title),1),tt,e("div",st,[e("div",ot,[at,e("div",nt,[D(e("textarea",{type:"text",name:"service-delay-reason",id:"service-delay-reason",autocomplete:"on",class:"simple-input disabled:bg-gray-200",placeholder:"Descreva o motivo do atraso do serviço","onUpdate:modelValue":y[0]||(y[0]=b=>o.service.cancellation_reason=b)},null,512),[[z,o.service.cancellation_reason]]),o.service.errors.cancellation_reason?(n(),r("p",it,l(o.service.errors.cancellation_reason),1)):d("",!0)])])])])])],32)]),footer:x(()=>{var b,k;return[u(se,{onClick:y[1]||(y[1]=h=>s())},{default:x(()=>[g(" Cancelar ")]),_:1}),u(te,{class:T({disabled:o.service.processing||!((b=o.service.cancellation_reason)!=null&&b.length)}),disabled:o.service.processing||!((k=o.service.cancellation_reason)!=null&&k.length),onClick:y[2]||(y[2]=h=>w())},{default:x(()=>[g("Cancelar Serviço")]),_:1},8,["class","disabled"])]}),_:1},8,["show"]))}},lt={class:"font-semibold text-xl text-gray-800 leading-tight"},ct={key:0},dt={class:"pt-12 print:hidden print:pt-0"},ut={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 print:w-full"},pt={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-5"},mt={class:"flex flex-row items-center space-x-3"},_t={class:"py-12 print:py-0"},vt={class:"max-w-7xl mx-auto print:max-w-full"},ht={class:"w-full flex justify-end pb-3 print:hidden"},xt={class:"px-0 print:px-0"},yt={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg print:shadow-none"},gt={class:"flex flex-col"},ft={class:"overflow-x-auto sm:-mx-6 lg:-mx-8"},wt={class:"inline-block min-w-full py-2 sm:px-6 lg:px-8"},bt={class:"overflow-hidden"},kt={class:"min-w-full text-left text-sm font-light"},$t={class:"border-b font-medium"},Ct=e("th",{scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center"}," #",-1),St=e("th",{scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center"}," Prazo ",-1),Mt=e("th",{scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center"}," Título ",-1),Dt=e("th",{scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center"}," Cliente ",-1),At=e("th",{scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center"}," À pagar ",-1),Et=e("th",{scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center"}," Valor total",-1),Tt=e("th",{scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center print:hidden"}," Entrega ",-1),Nt=e("th",{scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center"}," Status ",-1),Pt=e("th",{scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center print:hidden",colspan:"5"},"Ações ",-1),jt={key:0,scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center print:hidden"},It={key:1,scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center print:hidden"},Ot={key:2,scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center print:hidden"},Vt={key:3,scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center print:hidden"},Bt={class:"whitespace-nowrap py-4 text-center font-medium"},zt={class:"whitespace-normal px-6 py-4 print:px-3 print:py-2 text-center trim"},Ft=["title"],Ht={class:"whitespace-normal px-6 py-4 print:px-3 print:py-2 text-center"},Rt={class:"whitespace-nowrap px-2 py-4 text-center"},Ut={class:"whitespace-nowrap px-2 py-4 text-center"},Lt={class:"whitespace-nowrap px-2 py-4 text-center print:hidden"},qt={class:"whitespace-nowrap px-2 py-4 text-center"},Zt=["value","onChange"],Gt=["selected"],Jt=["selected"],Kt=["selected"],Qt=["title","onClick"],Wt=["title","onClick"],Xt={key:0},Yt={key:1,class:"m-auto text-center"},es=["title","onClick"],ts=["title"],ss=["href"],os=["title","onClick"],as={key:1,class:"whitespace-nowrap px-2 py-4 text-center print:hidden"},ns={key:2,class:"whitespace-nowrap px-2 py-4 text-center print:hidden"},is={key:3,class:"whitespace-nowrap px-2 py-4 text-center print:hidden"},rs={key:4,class:"whitespace-nowrap px-2 py-4 text-center print:hidden"},ls={key:1,class:"transition duration-300 ease-in-out hover:bg-neutral-100 print:break-inside-avoid"},cs=e("td",{class:"whitespace-nowrap px-6 py-4 print:px-3 print:py-2 text-center",colspan:"9"},"Não há serviços cadastrados no momento!",-1),ds=[cs],us={key:0,class:"print:hidden flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6"},ps={class:"flex flex-1 justify-between sm:hidden"},ms=["disabled"],_s=["disabled"],vs={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},hs={class:"text-sm text-gray-700"},xs={class:"font-medium"},ys={class:"font-medium"},gs={class:"font-medium"},fs={class:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},ws=["onClick","disabled","innerHTML"],Zs={__name:"Service",props:{page:Object,page_options:{type:Array,default:null},services_list:Object,sells_list:{type:Array,default:[]},show_service_id:{type:[String,Number],default:null},filters:Object},setup(o){var Z;const _=o,v=ke.useToast(),s=K({id:null,previous_id:null,title:"",client_id:"",total_value:0,service_value:0,partial_value:0,deadline:C(new Date(Date.now()+15*24*60*60*1e3),"new_date"),observations:"",service_status:"Não Iniciado",cancellation_reason:null,delay_reason:"",delayed:!1,completion_date:C(new Date,"new_date"),records_list:{enable_records:!1,data:[]}}),w=I(((Z=_.filters)==null?void 0:Z.search)||""),p=I(!1);let y=null;$e(w,i=>{y&&clearTimeout(y),y=setTimeout(()=>{V.get(route("services.index"),{search:i},{preserveState:!0,replace:!0})},300)});const b=B(()=>_.services_list.data),k=B(()=>_.services_list.data?_.services_list.data.reduce((i,a)=>i+a.accounting.partial_value,0):0),h=i=>{const a=W(i);return a===0?"text-red-500":a>0&&a<8?"text-orange-500":a>7&&a<15?"text-yellow-500":a>14&&a<30?"text-green-500":"text-blue-500"},m=I({mode:"create",show:!1,get title(){switch(this.mode){case"create":return"Criar serviço";case"update":return"Editar serviço";case"pay":return"Pagar serviço";case"see":return"Ver informações do serviço"}},get primary_button_txt(){switch(this.mode){case"create":return"Cadastrar";case"update":return"Atualizar";case"pay":return"Pagar";case"see":return"Fechar"}}}),M=i=>{var t,f,A;const a=_.services_list.data.find(E=>E.id===parseInt(i));if(a){const{id:E,previous_id:$,motive:me,client_id:_e,client:ve,service_value:bs,entity_name:ks,deadline:he,observations:xe,cancellation_reason:ye,delay_reason:ge,delayed:fe,completion_date:$s,records:G,accounting:P,service_status:we}=a,J=_.sells_list.find(j=>j.id===$),be=J?parseFloat(J.total_value):0;s.service_value=parseFloat(P.total_value)-be,s.id=E,s.previous_id=$,s.title=me,s.client_id=_e,s.client=ve,s.total_value=P.total_value,s.service_value=P.total_value-((A=(f=(t=_.sells_list)==null?void 0:t.find(j=>j.id===$))==null?void 0:f.accounting)==null?void 0:A.total_value)||P.total_value,s.partial_value=P.partial_value,s.deadline=he,s.observations=xe,s.service_status=we,s.cancellation_reason=ye,s.delay_reason=ge,s.completion_date=C(new Date,"new_date"),s.delayed=fe,s.records_list.enable_records=!!G.length,s.records_list.data=G.map(j=>K(j))}},N=i=>{i&&V.get(i,{search:w.value},{preserveState:!0,preserveScroll:!0})},O=(i,a=null)=>{const t=["update","pay"].includes(i);a!==null&&t?M(a):(s.reset(),s.deadline=C(new Date(Date.now()+15*24*60*60*1e3),"new_date"),s.service_status="Não Iniciado"),m.value.mode=i,m.value.show=!0},F=I(!1),ne=(i,a)=>{if(a!==0){if(!confirm("O serviço será considerado como concluído e será listado apenas na página de pagamentos"))return}else if(!confirm("O serviço será considerado concluído e pago!"))return;M(i),m.value.mode="conclude",F.value=!0},H=I(!1),ie=i=>{M(i),m.value.mode="cancel",H.value=!0},S=()=>{s.reset(),m.value.show=!1,F.value=!1,H.value=!1,s.deadline=C(new Date(Date.now()+15*24*60*60*1e3),"new_date"),s.service_status="Não Iniciado"};Ce(()=>{_.show_service_id&&O("update",_.show_service_id)});const re=()=>{s.post(route("services.store"),{preserveScroll:!0,onSuccess:()=>{v.success("Serviço criado com sucesso!"),S()},onError:i=>{console.log(i)}})},le=()=>{s.put(route("services.update",s.id),{preserveScroll:!0,onSuccess:()=>{v.success("Serviço alterado com sucesso!"),S()}})},ce=()=>{s.put(route("services.pay",s.id),{preserveScroll:!0,onSuccess:()=>{v.success("Serviço pago com sucesso!"),S()}})},de=()=>{s.put(route("services.conclude",s.id),{preserveScroll:!0,onSuccess:()=>{v.success("Serviço concluído com sucesso!"),S()},onError:i=>{console.log(i)}})},ue=()=>{s.put(route("services.cancel",s.id),{preserveScroll:!0,onSuccess:()=>{v.success("Serviço cancelado com sucesso!"),S()},onError:i=>{console.log(i)}})},pe=(i,a)=>{const t=a.target.value;V.put(route("services.change-status",i),{service_status:t},{preserveScroll:!0,onSuccess:()=>{v.success("Status alterado com sucesso!"),V.reload({only:["services_list"]})},onError:f=>{console.log(f),v.error("Erro ao alterar status!")}})},R=()=>{switch(m.value.mode){case"create":return re();case"update":return le();case"pay":return ce();case"conclude":return de();case"cancel":return ue();default:v.error("Método desconhecido. Informar o Técnico.")}};return(i,a)=>(n(),r(U,null,[u(c(Se),{title:o.page.name},null,8,["title"]),u(Me,{page:o.page,page_options:o.page_options},{header:x(()=>[e("h2",lt,[g(l(o.page.name)+" ",1),i.$page.props.auth.user.hierarchy<2?(n(),r("span",ct,"| "+l(c(q)(k.value)),1)):d("",!0)]),u(Ae,{icon:"plus",onClick:a[0]||(a[0]=t=>O("create")),title:"Cadastrar Service",class:"print:hidden"})]),default:x(()=>[e("div",dt,[e("div",ut,[e("div",pt,[e("div",mt,[u(c(Te),{class:"w-5 y-5"}),D(e("input",{type:"text",name:"search_term",id:"search_term",autocomplete:"on",class:"simple-input",autofocus:"true",placeholder:"Pesquisar termo...","onUpdate:modelValue":a[1]||(a[1]=t=>w.value=t)},null,512),[[z,w.value]])])])])]),e("div",_t,[e("div",vt,[e("div",ht,[p.value?d("",!0):(n(),r("button",{key:0,class:"text-blue-500 text-xs justify-end",onClick:a[2]||(a[2]=t=>p.value=!p.value)},"Mostrar dados de usuário")),p.value?(n(),r("button",{key:1,class:"text-red-500 text-xs justify-end",onClick:a[3]||(a[3]=t=>p.value=!p.value)},"Esconder dados de usuário")):d("",!0)]),e("div",xt,[e("div",yt,[e("div",gt,[e("div",ft,[e("div",wt,[e("div",bt,[e("table",kt,[e("thead",$t,[e("tr",null,[Ct,St,Mt,Dt,At,Et,Tt,Nt,Pt,p.value?(n(),r("th",jt,"Criado em")):d("",!0),p.value?(n(),r("th",It,"Criado por")):d("",!0),p.value?(n(),r("th",Ot," Modificado em")):d("",!0),p.value?(n(),r("th",Vt," Modificado por ")):d("",!0)])]),e("tbody",null,[b.value.length?(n(!0),r(U,{key:0},Q(b.value,t=>{var f,A,E;return n(),r("tr",{key:t.id,class:"border-b transition duration-300 ease-in-out hover:bg-neutral-100 print:break-inside-avoid"},[e("td",Bt,l(t.id),1),e("td",{class:T(["whitespace-nowrap py-4 text-center font-medium",h(t.deadline)])},l(c(W)(t.deadline))+" dias ",3),e("td",zt,[g(l(t.motive)+" ",1),t.observations?(n(),r("span",{key:0,title:t.observations,class:"inline-flex items-center rounded-md bg-gray-50 px-2 py-1 text-xs font-medium text-gray-600 ring-1 ring-inset ring-gray-500/10 cursor-help"},"OBS",8,Ft)):d("",!0)]),e("td",Ht,l(((f=t==null?void 0:t.client)==null?void 0:f.name)||t.entity_name),1),e("td",Rt,l(c(q)(t.accounting.partial_value)),1),e("td",Ut,l(c(q)(t.accounting.total_value)),1),e("td",Lt,l(c(C)(t.deadline,!0)),1),e("td",qt,[e("select",{class:T(["print:hidden pl-1 pr-7 py-0.5 rounded-full text-xs",{"text-blue-500 border-blue-500":t.service_status==="Não Iniciado","text-yellow-500 border-yellow-500":t.service_status==="Em Andamento","text-orange-500 border-orange-500":t.service_status==="Pausado"}]),value:t.service_status,onChange:$=>pe(t.id,$)},[D(e("option",{value:"Não Iniciado",selected:t.service_status==="Não Iniciado",class:"text-blue-500"}," Não Iniciado ",8,Gt),[[L,t.service_status!=="Não Iniciado"]]),D(e("option",{value:"Em Andamento",selected:t.service_status==="Em Andamento",class:"text-yellow-500"},"Em Andamento ",8,Jt),[[L,t.service_status!=="Em Andamento"]]),D(e("option",{value:"Pausado",selected:t.service_status==="Pausado",class:"text-orange-500"}," Pausado",8,Kt),[[L,t.service_status!=="Pausado"]])],42,Zt),e("label",{class:T(["hidden print:block",{"text-blue-500":t.service_status==="Não Iniciado","text-yellow-500":t.service_status==="Em Andamento","text-orange-500":t.service_status==="Pausado"}])},l(t.service_status),3)]),e("td",{class:"whitespace-nowrap px-4 py-4 pl-10 text-center cursor-pointer hover:text-blue-700 active:text-blue-900 select-none print:hidden",title:"CONCLUIR: "+t.motive+"("+t.entity_name+")",onClick:$=>ne(t.id,t.accounting.partial_value)},[u(c(ae),{class:"w-4 h-4 m-auto"})],8,Qt),e("td",{class:"whitespace-nowrap px-4 py-4 text-center cursor-pointer hover:text-green-700 active:text-green-900 select-none print:hidden",title:"PAGAR: "+t.motive+"("+t.entity_name+")",onClick:$=>O("pay",t.id)},[t.accounting.partial_value!==0?(n(),r("span",Xt,[u(c(Ne),{class:"w-4 h-4 m-auto"})])):(n(),r("span",Yt,"PAGO"))],8,Wt),e("td",{class:"whitespace-nowrap px-4 py-4 text-center cursor-pointer hover:text-yellow-700 active:text-yellow-900 select-none print:hidden",title:"EDITAR: "+t.motive+"("+t.entity_name+")",onClick:$=>O("update",t.id)},[u(c(Pe),{class:"w-4 h-4 m-auto"})],8,es),e("td",{title:"ORÇAMENTO DE "+t.motive+"("+t.entity_name+")",class:"whitespace-nowrap px-4 py-4 text-center cursor-pointer hover:text-sky-700 active:text-sky-900 select-none print:hidden"},[(A=t.budget)!=null&&A.id?(n(),r("a",{key:0,href:i.route("budgets.show",t.budget.id),target:"_blank",class:""},[u(c(je),{class:"w-4 h-4 m-auto"})],8,ss)):d("",!0)],8,ts),i.$page.props.auth.user.hierarchy<2?(n(),r("td",{key:0,class:"whitespace-nowrap px-4 py-4 text-center cursor-pointer hover:text-red-700 active:text-red-900 select-none print:hidden",title:"CANCELAR: "+t.motive+"("+t.entity_name+")",onClick:$=>ie(t.id)},[u(c(oe),{class:"w-4 h-4 m-auto"})],8,os)):d("",!0),p.value?(n(),r("td",as,l(c(C)(t.created_at,"reading_date_time")),1)):d("",!0),p.value?(n(),r("td",ns,l(t.procedures[0].user.name),1)):d("",!0),p.value?(n(),r("td",is,l(c(C)(t.updated_at,"reading_date_time")),1)):d("",!0),p.value?(n(),r("td",rs,l(t.procedures[((E=t.procedures)==null?void 0:E.length)-1].user.name),1)):d("",!0)])}),128)):(n(),r("tr",ls,ds))])])])])])])])])])]),o.services_list.total>0?(n(),r("div",us,[e("div",ps,[e("button",{onClick:a[4]||(a[4]=t=>N(o.services_list.prev_page_url)),disabled:!o.services_list.prev_page_url,class:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50"},"Anterior",8,ms),e("button",{onClick:a[5]||(a[5]=t=>N(o.services_list.next_page_url)),disabled:!o.services_list.next_page_url,class:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50"},"Próximo",8,_s)]),e("div",vs,[e("div",null,[e("p",hs,[g(" Mostrando de "),e("span",xs,l(o.services_list.from),1),g(" a "),e("span",ys,l(o.services_list.to),1),g(" de "),e("span",gs,l(o.services_list.total),1),g(" resultados ")])]),e("div",null,[e("nav",fs,[(n(!0),r(U,null,Q(o.services_list.links,(t,f)=>(n(),r("button",{key:f,onClick:A=>N(t.url),disabled:!t.url,class:T(["relative inline-flex items-center px-4 py-2 text-sm font-semibold focus:z-20",{"z-10 bg-green-600 text-white focus-visible:outline-green-600":t.active,"text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:outline-offset-0 disabled:opacity-50":!t.active,"rounded-l-md":f===0,"rounded-r-md":f===o.services_list.links.length-1}]),innerHTML:t.label},null,10,ws))),128))])])])])):d("",!0),u(De,{show:m.value.show,modal:m.value,service:c(s),sells_list:o.sells_list,onSubmit:R,onClose:S},null,8,["show","modal","service","sells_list"]),u(Qe,{show:F.value,service:c(s),onSubmit:R,onClose:S},null,8,["show","service"]),u(rt,{show:H.value,service:c(s),onSubmit:R,onClose:S},null,8,["show","service"]),u(Ee,{mode:["rollup","print_page","link"],link_type:["previous"],link:[i.route("services.previous")]},null,8,["link"])]),_:1},8,["page","page_options"])],64))}};export{Zs as default};
