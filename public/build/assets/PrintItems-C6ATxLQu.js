import{_ as q}from"./AppLayout-CwLqtukj.js";import{_ as I}from"./FloatButton-DwGAXZ7Z.js";import{_ as $}from"./Checkbox-lxceLUkv.js";import{d as _,l as L,o,e as n,b as c,u as N,Z as A,w as f,a as e,t as l,F as m,g as x,h as y,n as B}from"./app-wsFqEJLe.js";import{_ as V}from"./ExtraOptionsButton-Cj_dEGGu.js";import"./PlusIcon-BRzD7pfq.js";import"./PrinterIcon-D77e3GdS.js";const D={class:"font-semibold text-xl text-gray-800 leading-tight"},F={class:"py-12 print:py-0"},O={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 print:max-w-full print:mx-0 print:sm:px-0 print:lg:px-0"},Q={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg min-h-[300px] print:shadow-none"},j={class:"print:hidden flex-col-config p-5 w-full"},z={class:"w-full grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-1"},E=["checked","onChange"],G={class:"text-xs sm:text-sm md:text-md whitespace-nowrap truncate"},M={class:"flex flex-col w-full print:w-fit"},P={class:"overflow-x-auto print:overflow-hidden sm:-mx-6 lg:-mx-8"},S={class:"inline-block min-w-full sm:px-6 lg:px-8"},Z={class:"break-inside-avoid-page"},H={class:"overflow-hidden"},J={class:"min-w-full text-center text-sm font-light"},K={class:"border-b bg-neutral-800 font-medium text-white table-header-group"},R=e("th",{scope:"col",class:"px-6 py-2 print:hidden"},"Imprimir",-1),T=e("th",{scope:"col",class:"px-6 py-2"},"Nome",-1),U=e("th",{scope:"col",class:"px-6 py-2"},"Qtd. em estoque",-1),W={key:0,scope:"col",class:"px-6 py-2"},X=e("th",{scope:"col",class:"px-6 py-2"},"Categoria",-1),Y={key:0},ee={class:"whitespace-nowrap px-6 py-2 print:hidden"},te={class:"px-6 py-2 font-medium"},se={class:"whitespace-nowrap px-6 py-2"},oe={key:0,class:"whitespace-nowrap px-6 py-2"},ne={class:"whitespace-nowrap px-6 py-2"},ae={key:1},ie=e("tr",{class:"border-b transition duration-300 ease-in-out hover:bg-neutral-200"},[e("td",{colspan:"5",class:"whitespace-nowrap px-6 py-2 font-medium"},"Não há items nas categorias selecionadas")],-1),le=[ie],he={__name:"PrintItems",props:{page:Object,items_list:{type:Array,default:()=>[]},categories_list:{type:Array,default:()=>[]},buy_option:{type:Boolean,default:!1}},setup(r){const h=r,p=_(h.categories_list.map(s=>({id:s.id,category:s.name_plural}))),a=_([...p.value]),v=s=>{const i=a.value.findIndex(t=>t.id===s.id);i!==-1?a.value.splice(i,1):a.value.push(s)},b=()=>{a.value=[...p.value]},w=()=>{a.value=[]},g=L(()=>a.value.length?h.items_list.filter(s=>a.value.some(i=>i.id==s.category_id)):[]),d=_([]),k=s=>{const i=d.value.indexOf(s);i!==-1?d.value.splice(i,1):d.value.push(s)},C=()=>{window.print()};return(s,i)=>(o(),n(m,null,[c(N(A),{title:r.page.name},null,8,["title"]),c(q,{page:r.page},{header:f(()=>[e("h2",D,l(r.buy_option?"Lista de Compra":"Listagem Geral de Items"),1),c(I,{icon:"printer",onClick:C,title:"Imprimir Lista"})]),default:f(()=>[e("div",F,[e("div",O,[e("div",Q,[e("div",j,[e("ul",z,[(o(!0),n(m,null,x(p.value,t=>(o(),n("li",{key:t.id,class:"py-1 px-2 rounded-lg flex flex-row items-center space-x bg-neutral-100 gap-3"},[e("span",null,[e("input",{type:"checkbox",checked:a.value.some(u=>u.id===t.id),onChange:u=>v(t),class:"appearance-none transition-colors cursor-pointer w-7 h-7 rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-black text-green-500 focus:ring-green-500 focus:bg-green-200 checked:bg-green-500 bg-green-200"},null,40,E)]),e("span",G,l(t.category),1)]))),128))]),e("div",{class:"flex flex-row space-x-5 items-center text-center mt-3"},[e("span",{onClick:b,class:"text-blue-500 font-bold hover:bg-blue-100 active:bg-blue-200 p-3 rounded-full cursor-pointer select-none"},"Marcar todos"),e("span",{onClick:w,class:"text-red-500 font-bold hover:bg-red-100 active:bg-red-200 p-3 rounded-full cursor-pointer select-none"},"Desmarcar todos")])]),e("div",M,[e("div",P,[e("div",S,[e("div",Z,[e("div",H,[e("table",J,[e("thead",K,[e("tr",null,[R,T,U,r.buy_option?(o(),n("th",W,"Qtd. para compra ")):y("",!0),X])]),g.value.length?(o(),n("tbody",Y,[(o(!0),n(m,null,x(g.value,t=>(o(),n("tr",{key:t.id,class:B([{"print:hidden":d.value.includes(t.id)},"border-b transition duration-150 ease-in-out hover:bg-neutral-100 print:break-inside-avoid-page"])},[e("td",ee,[c($,{onInput:u=>k(t.id),checked:""},null,8,["onInput"])]),e("td",te,l(t.name),1),e("td",se,l(t.quantity)+" "+l(t.quantity==1?t.measurement_unit.name:t.measurement_unit.name_plural),1),r.buy_option?(o(),n("td",oe,l(t.min_quantity-t.quantity)+" "+l(t.min_quantity-t.quantity==1?t.measurement_unit.name:t.measurement_unit.name_plural),1)):y("",!0),e("td",ne,l(t.category.name),1)],2))),128))])):(o(),n("tbody",ae,le))])])])])])])])])]),c(V,{mode:"rollup"})]),_:1},8,["page"])],64))}};export{he as default};
