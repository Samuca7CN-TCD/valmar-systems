import{o as a,c as V,w as c,a as e,b as p,u as r,t as o,f as m,e as l,h as w,d as k,T as D,Z as A,p as h,v as $,q as b,F as v,g}from"./app-xjJ8na4r.js";import{_ as C}from"./AppLayout-BOBs5ZEO.js";import{_ as U}from"./CreateUpdateModal-U7ZkrYrZ.js";import{_ as T}from"./SecondaryButton-C2X9K_i9.js";import{r as B}from"./EyeIcon-Dl0r3gu1.js";import{_ as N}from"./ExtraOptionsButton-irMfiu4z.js";import{f as M}from"./general-DyNoCMvo.js";import"./Modal-GnKcZS1t.js";import"./PrinterIcon-EuA9oIlG.js";const S={class:"mx-auto shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-400 sm:mx-0 sm:h-10 sm:w-10"},j={class:"px-4 sm:px-0"},F={class:"text-base font-semibold leading-7 text-gray-900 capitalize"},z={class:"mt-1 max-w-2xl text-sm leading-6 text-gray-500"},O=e("div",null,null,-1),R={key:0},q=e("li",null,null,-1),E={__name:"SeeRecords",props:{modal:Boolean,procedure:Array},emits:["close"],setup(s,{emit:i}){const x=i,u=()=>x("close");return(d,y)=>(a(),V(U,{show:s.modal,maxWidth:"2xl",onClose:u},{icon:c(()=>[e("div",S,[p(r(B),{class:"w-5 h-5 text-white"})])]),title:c(()=>{var _,f,n,t;return[e("div",j,[e("h3",F,o((_=s.procedure.action)==null?void 0:_.name)+" - "+o((f=s.procedure.department)==null?void 0:f.name),1),e("p",z,o((n=s.procedure.user)==null?void 0:n.name)+" "+o((t=s.procedure.user)==null?void 0:t.surname),1)])]}),content:c(()=>[O,e("pre",null,[m("                "),s.procedure.department.type==="warehouse"?(a(),l("ul",R,[m(`
                    `),q,m(`
                `)])):w("",!0),m(`
                `+o(s.procedure)+`
                `,1)])]),footer:c(()=>[p(T,{onClick:y[0]||(y[0]=_=>u())},{default:c(()=>[m(" Fechar ")]),_:1})]),_:1},8,["show"]))}},I={class:"font-semibold text-xl text-gray-800 leading-tight"},L={class:"py-12"},W={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Z={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-5"},G={class:"grid grid-cols-2 lg:grid-cols-5 gap-3 print:hidden"},H=e("label",{for:"filter-procedure-start_date",class:"text-xs text-neutral-500"},"Data (início)",-1),J=e("label",{for:"filter-procedure-end_date",class:"text-xs text-neutral-500"},"Data (fim)",-1),K=e("label",{for:"filter-procedure-user",class:"text-xs text-neutral-500"},"Usuário",-1),P=e("option",{value:0},"Todos",-1),Q=["value"],X=e("label",{for:"filter-procedure-action",class:"text-xs text-neutral-500"},"Ação",-1),Y=e("option",{value:0},"Todos",-1),ee=["value"],te=e("label",{for:"filter-procedure-department",class:"text-xs text-neutral-500"},"Departamento",-1),se=e("option",{value:0},"Todos",-1),ae=["value"],oe={class:"overflow-x-auto"},le={key:0,class:"table-auto min-w-full divide-y divide-neutral-200 my-5"},ne=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-sm font-medium text-neutral-900"}," Usuário "),e("th",{scope:"col",class:"px-6 py-3 text-left text-sm font-medium text-neutral-900"}," Ação "),e("th",{scope:"col",class:"px-6 py-3 text-left text-sm font-medium text-neutral-900"}," Departamento"),e("th",{scope:"col",class:"px-6 py-3 text-left text-sm font-medium text-neutral-900"}," Data "),e("th",{scope:"col",class:"px-6 py-3 text-left text-sm font-medium text-neutral-900"}," Ações ")])],-1),re={class:"bg-white divide-y divide-neutral-200"},de={class:"px-6 py-4 text-sm text-neutral-900"},ie={class:"px-6 py-4 text-sm"},ce={class:"px-6 py-4 text-sm"},ue={key:0},me={key:1},pe={class:"px-6 py-4 text-sm text-neutral-500"},xe={class:"hidden px-6 py-4 text-sm"},_e=["onClick"],fe={key:1,class:"text-sm text-neutral-500 text-center pt-5"},Ae={__name:"Dashboard",props:{page:Object,title:String,procedures:Array,parameters:Object,users:Array,actions:Array,departments:Array},setup(s){const i=s,x=k(!1),u=k(null),d=D({user:i.parameters.user,action:i.parameters.action,department:i.parameters.department,start_date:i.parameters.start_date,end_date:i.parameters.end_date}),y=f=>{u.value=f,x.value=!0},_=()=>{u.value=null,x.value=!1};return(f,n)=>(a(),l(v,null,[p(r(A),{title:s.page.name},null,8,["title"]),p(C,{page:s.page},{header:c(()=>[e("h2",I,o(s.page.name),1)]),default:c(()=>[e("div",L,[e("div",W,[e("div",Z,[e("div",G,[e("div",null,[H,h(e("input",{id:"filter-procedure-start_date",type:"date",class:"simple-input","onUpdate:modelValue":n[0]||(n[0]=t=>r(d).start_date=t)},null,512),[[$,r(d).start_date]])]),e("div",null,[J,h(e("input",{id:"filter-procedure-end_date",type:"date",class:"simple-input","onUpdate:modelValue":n[1]||(n[1]=t=>r(d).end_date=t)},null,512),[[$,r(d).end_date]])]),e("div",null,[K,h(e("select",{id:"filter-procedure-user",class:"simple-select","onUpdate:modelValue":n[2]||(n[2]=t=>r(d).user=t)},[P,(a(!0),l(v,null,g(s.users,t=>(a(),l("option",{value:t.id,key:t.id},o(t.name)+" "+o(t.surname),9,Q))),128))],512),[[b,r(d).user]])]),e("div",null,[X,h(e("select",{id:"filter-procedure-action",class:"simple-select","onUpdate:modelValue":n[3]||(n[3]=t=>r(d).action=t)},[Y,(a(!0),l(v,null,g(s.actions,t=>(a(),l("option",{value:t.id,key:t.id,class:"capitalize"},o(t.past),9,ee))),128))],512),[[b,r(d).action]])]),e("div",null,[te,h(e("select",{id:"filter-procedure-department",class:"simple-select","onUpdate:modelValue":n[4]||(n[4]=t=>r(d).department=t)},[se,(a(!0),l(v,null,g(s.departments,t=>(a(),l("option",{value:t.id,key:t.id},o(t.name),9,ae))),128))],512),[[b,r(d).department]])])]),e("div",oe,[s.procedures.length?(a(),l("table",le,[ne,e("tbody",re,[(a(!0),l(v,null,g(s.procedures,t=>(a(),l("tr",{key:t.id},[e("td",de,o(t.user.name)+" "+o(t.user.surname),1),e("td",ie,o(t.action.past),1),e("td",ce,[t.department.type==="payslip"?(a(),l("span",ue,"Registro de")):w("",!0),t.department.type==="warehouse"?(a(),l("span",me,"Item de")):w("",!0),m(" "+o(t.department.name),1)]),e("td",pe,o(r(M)(t.created_at,"reading_date_time")),1),e("td",xe,[e("button",{class:"text-green-500 hover:text-green-700",onClick:he=>y(t)},"Ver registros",8,_e)])]))),128))])])):(a(),l("p",fe,"Nenhum procedimento registrado no período especificado."))])])])])]),_:1},8,["page"]),p(N,{mode:["rollup","print_page"]}),p(E,{modal:x.value,procedure:u.value,onClose:_},null,8,["modal","procedure"])],64))}};export{Ae as default};
