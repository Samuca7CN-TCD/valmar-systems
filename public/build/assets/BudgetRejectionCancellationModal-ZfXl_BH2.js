import{d as T,o as l,a as t,k as a,c as w,w as s,b as j,f as m,t as c,h as V,s as A,e as N,v as R,n as I,A as P}from"./app-rFp3DUWb.js";import{_ as S}from"./CreateUpdateModal-DUu5ohjo.js";import{_ as q}from"./PrimaryButton-DYVP7xNc.js";import{_ as z}from"./SecondaryButton-BdpO2WF3.js";import{r as d}from"./XMarkIcon-CSIFDxXn.js";function ae(o,g){return l(),T("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"})])}const E={class:"pb-12 space-y-12 divide-y-2"},L={class:"py-4"},U={class:"text-base font-semibold leading-7 text-gray-900"},Z={class:"mt-1 text-sm leading-6 text-gray-600"},F={class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"},G={class:"sm:col-span-6"},H=t("label",{for:"budget-reason",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"Motivo",-1),J={class:"mt-2"},K=["placeholder"],Q={key:0,class:"text-red-500 text-sm mt-1"},W=t("p",{class:"text-gray-500 text-sm mt-1"},"O motivo deve ter pelo menos 10 caracteres. ",-1),re={__name:"BudgetRejectionCancellationModal",props:{show:{type:Boolean,default:!1},budget:{type:Object,default:null}},emits:["close","submit"],setup(o,{emit:g}){const b=g,e=o,C=a(()=>{if(!e.budget||!e.budget.actionType)return"Ação de Orçamento";switch(e.budget.actionType){case"reject":return"Rejeitar Orçamento";case"cancel":return"Cancelar Orçamento";default:return"Ação de Orçamento"}}),k=a(()=>{if(!e.budget||!e.budget.actionType)return d;switch(e.budget.actionType){case"reject":return d;case"cancel":return d;default:return d}}),B=a(()=>{if(!e.budget||!e.budget.actionType)return"bg-gray-500";switch(e.budget.actionType){case"reject":return"bg-orange-500";case"cancel":return"bg-red-500";default:return"bg-gray-500"}}),O=a(()=>{if(!e.budget||!e.budget.actionType)return"Descreva o motivo...";switch(e.budget.actionType){case"reject":return"Descreva o motivo da rejeição do orçamento";case"cancel":return"Descreva o motivo do cancelamento do orçamento";default:return"Descreva o motivo..."}}),u=a({get(){return e.budget.actionType==="reject"?e.budget.rejection_reason:e.budget.cancellation_reason},set(r){e.budget.actionType==="reject"?e.budget.rejection_reason=r:e.budget.actionType==="cancel"&&(e.budget.cancellation_reason=r)}}),D=a(()=>{if(!e.budget||!e.budget.actionType)return"Confirmar";switch(e.budget.actionType){case"reject":return"Rejeitar Orçamento";case"cancel":return"Cancelar Orçamento";default:return"Confirmar"}}),M=a(()=>{if(!e.budget)return!0;const r=u.value;return e.budget.processing||!r||r.length<10}),f=()=>{b("close")},p=()=>{b("submit")};return(r,n)=>(l(),w(S,{show:o.show,onClose:f},{icon:s(()=>[t("div",{class:I(["mx-auto shrink-0 flex items-center justify-center h-12 w-12 rounded-full sm:mx-0 sm:h-10 sm:w-10",B.value])},[(l(),w(P(k.value),{class:"w-5 h-5 text-white"}))],2)]),title:s(()=>[m(c(C.value),1)]),content:s(()=>{var i,v,h,y,_,x;return[t("form",{onSubmit:V(p,["prevent"])},[t("div",E,[t("section",L,[t("h2",U,c((i=o.budget)==null?void 0:i.client_name),1),t("p",Z,c((v=o.budget)!=null&&v.description?"Orçamento: "+o.budget.description:"Informe o motivo para prosseguir."),1),t("div",F,[t("div",G,[H,t("div",J,[A(t("textarea",{type:"text",name:"budget-reason",id:"budget-reason",autocomplete:"off",class:"simple-input",placeholder:O.value,"onUpdate:modelValue":n[0]||(n[0]=$=>u.value=$)},null,8,K),[[R,u.value]]),(y=(h=o.budget)==null?void 0:h.errors)!=null&&y.rejection_reason||(x=(_=o.budget)==null?void 0:_.errors)!=null&&x.cancellation_reason?(l(),T("p",Q,c(o.budget.errors.rejection_reason||o.budget.errors.cancellation_reason),1)):N("",!0),W])])])])])],32)]}),footer:s(()=>[j(z,{onClick:n[1]||(n[1]=i=>f())},{default:s(()=>[m(" Cancelar ")]),_:1}),j(q,{disabled:M.value,onClick:n[2]||(n[2]=i=>p())},{default:s(()=>[m(c(D.value),1)]),_:1},8,["disabled"])]),_:1},8,["show"]))}};export{re as _,ae as r};
