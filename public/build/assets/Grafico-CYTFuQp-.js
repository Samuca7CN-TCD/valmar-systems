import{r as d,E as k,d as C,o as S,a as t,s as j,x as E,n as g,t as n,u as i,F as B,q as D}from"./app-rFp3DUWb.js";import{t as c}from"./general-D_37hS-e.js";import{C as m}from"./auto-BeiC2jW3.js";const O={class:"w-full flex lg:hidden my-5"},A=t("option",{value:0,selected:""},"Gráfico Total",-1),G=t("option",{value:1},"Gráfico Semanal",-1),P=[A,G],M={class:"w-full grid grid-cols-1 lg:grid-cols-2 items-center justify-center align-middle gap-5"},V=t("canvas",{id:"heritage-chart"},null,-1),q=[V],F=t("canvas",{id:"weekly-heritage-chart"},null,-1),T=[F],z={class:"col-span-2 grid grid-cols-2 md:grid-cols-3 gap-5"},H={class:"w-full bg-neutral-100 rounded-md border border-neutral-200 p-5 text-center hover:text-blue-500 hover:bg-blue-50"},L=t("h2",{class:"text-xs sm:text-sm md:text-md lg:text-lg xl:text-xl"},"Almoxarifado",-1),N={class:"font-extrabold text-sm sm:text-md md:text-lg lg:text-xl xl:text-2xl"},R={class:"w-full bg-neutral-100 rounded-md border border-neutral-200 p-5 text-center hover:text-yellow-500 hover:bg-yellow-50"},U=t("h2",{class:"text-xs sm:text-sm md:text-md lg:text-lg xl:text-xl"},"Pagamentos",-1),W={class:"font-extrabold text-sm sm:text-md md:text-lg lg:text-xl xl:text-2xl"},Z={class:"w-full bg-neutral-100 rounded-md border border-neutral-200 p-5 text-center hover:text-red-500 hover:bg-red-50"},$=t("h2",{class:"text-xs sm:text-sm md:text-md lg:text-lg xl:text-xl"},"Serviços",-1),J={class:"font-extrabold text-sm sm:text-md md:text-lg lg:text-xl xl:text-2xl"},I={__name:"Grafico",setup(K){const l=d({warehouse:0,payments:0,services:0}),o=d({weekly_payments:{},weekly_services:{},weekly_warehouse:{}});let u=null,x=null;const _=async()=>{try{const a=(await D.get(route("dashboard.data.general"))).data;l.value=a.amount_values,o.value=a.weekly_amount_values,b()}catch(e){console.error("Erro ao carregar dados gerais do dashboard:",e)}},v=(e,a,r)=>{e&&(e.data.labels=r,e.data.datasets[0].data=a,e.update())},h=(e,a,r,y,w)=>{e&&(e.data.labels=a,e.data.datasets[0].data=r,e.data.datasets[1].data=y,e.data.datasets[2].data=w,e.update())},b=()=>{v(u,[l.value.warehouse,l.value.payments,l.value.services],["Almoxarifado","Pagamentos","Serviços"]),h(x,Object.keys(o.value.weekly_payments),Object.values(o.value.weekly_payments),Object.values(o.value.weekly_services),Object.values(o.value.weekly_warehouse))},p=d({type:"doughnut",data:{labels:["Almoxarifado","Pagamentos","Serviços"],datasets:[{label:"R$",data:[0,0,0],backgroundColor:["rgb(54, 162, 235)","rgb(255, 205, 86)","rgb(255, 99, 132)"],hoverOffset:4}]}}),f=d({type:"line",data:{labels:[],datasets:[{label:"Pagamentos",data:[],borderColor:"rgb(54, 162, 235)",backgroundColor:"rgba(54, 162, 235, 0.2)",fill:!1},{label:"Serviços",data:[],borderColor:"rgb(255, 205, 86)",backgroundColor:"rgba(255, 205, 86, 0.2)",fill:!1},{label:"Estoque",data:[],borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.2)",fill:!1}]},options:{responsive:!0,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(e){return e.dataset.label+": "+e.raw}}}},scales:{x:{title:{display:!0,text:"Semana"},ticks:{autoSkip:!0,maxTicksLimit:12}},y:{title:{display:!0,text:"Valor"},beginAtZero:!0}}}});k(()=>{const e=document.getElementById("heritage-chart");u=new m(e,p.value);const a=document.getElementById("weekly-heritage-chart");x=new m(a,f.value),_()});const s=d(0);return(e,a)=>(S(),C(B,null,[t("div",O,[j(t("select",{"onUpdate:modelValue":a[0]||(a[0]=r=>s.value=r),class:"w-full"},P,512),[[E,s.value]])]),t("div",M,[t("div",{class:g(["max-h-[360px] lg:flex items-center justify-center align-middle",{hidden:s.value!==0,flex:s.value===0}])},q,2),t("div",{class:g(["max-h-[360px] lg:flex items-center justify-center align-middle",{hidden:s.value!==1,flex:s.value===1}])},T,2),t("div",z,[t("div",H,[L,t("p",N,n(i(c)(l.value.warehouse)),1)]),t("div",R,[U,t("p",W,n(i(c)(l.value.payments)),1)]),t("div",Z,[$,t("p",J,n(i(c)(l.value.services)),1)])])])],64))}};export{I as default};
