import{d as f,T as b,y as D,e as o,o as l,a as e,q as p,v as y,u as r,s as _,F as c,h as m,t as n,f as v,g as k}from"./app-BFxaF4G7.js";import{f as w}from"./general-ILD4i3rA.js";const A=e("div",{class:"w-full rounded-lg bg-neutral-200 text-neutral-700 uppercase text-xl font-bold text-center p-2 my-10"}," Registro de Atividades ",-1),T={class:"grid grid-cols-2 lg:grid-cols-5 gap-3 print:hidden"},V=e("label",{for:"filter-procedure-start_date",class:"text-xs text-neutral-500"},"Data (início)",-1),U=e("label",{for:"filter-procedure-end_date",class:"text-xs text-neutral-500"},"Data (fim)",-1),S=e("label",{for:"filter-procedure-user",class:"text-xs text-neutral-500"},"Usuário",-1),C=e("option",{value:0},"Todos",-1),F=["value"],N=e("label",{for:"filter-procedure-action",class:"text-xs text-neutral-500"},"Ação",-1),B=e("option",{value:0},"Todos",-1),R=["value"],$=e("label",{for:"filter-procedure-department",class:"text-xs text-neutral-500"},"Departamento",-1),j=e("option",{value:0},"Todos",-1),z=["value"],I={class:"col-span-full flex justify-end mt-2 gap-5"},L={class:"overflow-x-auto"},M={key:0,class:"table-auto min-w-full divide-y divide-neutral-200 my-5"},O=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-sm font-medium text-neutral-900"}," Usuário "),e("th",{scope:"col",class:"px-6 py-3 text-left text-sm font-medium text-neutral-900"}," Ação "),e("th",{scope:"col",class:"px-6 py-3 text-left text-sm font-medium text-neutral-900"}," Departamento"),e("th",{scope:"col",class:"px-6 py-3 text-left text-sm font-medium text-neutral-900"}," Data ")])],-1),q={class:"bg-white divide-y divide-neutral-200"},E={class:"px-6 py-4 text-sm text-neutral-900"},W={class:"px-6 py-4 text-sm capitalize"},G={class:"px-6 py-4 text-sm"},H={key:0},J={key:1},K={class:"px-6 py-4 text-sm text-neutral-500"},P={key:1,class:"text-sm text-neutral-500 text-center pt-5"},Y={__name:"Atividades",props:{procedures:Array,parameters:Object,users:Array,actions:Array,departments:Array},setup(i){const u=i;f(!1),f(null);const s=b({user:u.parameters.user,action:u.parameters.action,department:u.parameters.department,start_date:u.parameters.start_date,end_date:u.parameters.end_date}),x=()=>{let d;clearTimeout(d),d=setTimeout(()=>{s.get(route("dashboard.index"),{preserveScroll:!0,replace:!0})},300)};D([()=>s.user,()=>s.department,()=>s.action],d=>{x()},{deep:!0});const g=()=>{const d=new Date,a=new Date;a.setDate(d.getDate()-2);const t=h=>h.toISOString().split("T")[0];s.user=0,s.action=0,s.department=0,s.start_date=t(a),s.end_date=t(d)};return(d,a)=>(l(),o(c,null,[A,e("div",T,[e("div",null,[V,p(e("input",{id:"filter-procedure-start_date",type:"date",class:"simple-input","onUpdate:modelValue":a[0]||(a[0]=t=>r(s).start_date=t),onChange:a[1]||(a[1]=t=>x())},null,544),[[y,r(s).start_date]])]),e("div",null,[U,p(e("input",{id:"filter-procedure-end_date",type:"date",class:"simple-input","onUpdate:modelValue":a[2]||(a[2]=t=>r(s).end_date=t),onChange:a[3]||(a[3]=t=>x())},null,544),[[y,r(s).end_date]])]),e("div",null,[S,p(e("select",{id:"filter-procedure-user",class:"simple-select","onUpdate:modelValue":a[4]||(a[4]=t=>r(s).user=t)},[C,(l(!0),o(c,null,m(i.users,t=>(l(),o("option",{value:t.id,key:t.id},n(t.name)+" "+n(t.surname),9,F))),128))],512),[[_,r(s).user]])]),e("div",null,[N,p(e("select",{id:"filter-procedure-action",class:"simple-select","onUpdate:modelValue":a[5]||(a[5]=t=>r(s).action=t)},[B,(l(!0),o(c,null,m(i.actions,t=>(l(),o("option",{value:t.id,key:t.id,class:"capitalize"},n(t.past),9,R))),128))],512),[[_,r(s).action]])]),e("div",null,[$,p(e("select",{id:"filter-procedure-department",class:"simple-select","onUpdate:modelValue":a[6]||(a[6]=t=>r(s).department=t)},[j,(l(!0),o(c,null,m(i.departments,t=>(l(),o("option",{value:t.id,key:t.id},n(t.name),9,z))),128))],512),[[_,r(s).department]])])]),e("div",I,[e("button",{onClick:a[7]||(a[7]=t=>g()),class:"text-red-500 transition text-xs"}," Resetar filtros ")]),e("div",L,[i.procedures.length?(l(),o("table",M,[O,e("tbody",q,[(l(!0),o(c,null,m(i.procedures,t=>(l(),o("tr",{key:t.id},[e("td",E,n(t.user.name)+" "+n(t.user.surname),1),e("td",W,n(t.action.past),1),e("td",G,[t.department.type==="payslip"?(l(),o("span",H,"Registro de")):v("",!0),t.department.type==="warehouse"?(l(),o("span",J,"Item de")):v("",!0),k(" "+n(t.department.name),1)]),e("td",K,n(r(w)(t.created_at,"reading_date_time")),1)]))),128))])])):(l(),o("p",P,"Nenhum procedimento registrado no período especificado."))])],64))}};export{Y as default};
