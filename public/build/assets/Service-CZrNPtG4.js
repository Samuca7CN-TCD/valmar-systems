import{e as r,o as i,a as e,l as L,c as K,w as h,b as d,g as M,n as T,i as Q,f as p,q as A,u as c,v as B,t as m,m as me,T as H,d as N,p as _e,Z as he,F as Z,h as ve,z as q,x as G}from"./app-BNfw6D98.js";import{r as xe,_ as ye}from"./AppLayout-BbGSq7ON.js";import{_ as we}from"./CreateUpdatePayModal-CBz5DIAb.js";import{_ as ge}from"./FloatButton-BBwdUlJ9.js";import{_ as fe}from"./ExtraOptionsButton-DiyESr6V.js";import{f as C,t as I,k as J}from"./general-NIAW1A15.js";/* empty css                    */import{_ as W}from"./CreateUpdateModal-VUiyNreI.js";import{_ as X}from"./PrimaryButton-D8RA7maK.js";import{_ as Y}from"./SecondaryButton-DeD2VbFJ.js";import{a as ee,r as be}from"./XMarkIcon-LoPj41DC.js";import{r as ke}from"./MagnifyingGlassIcon-Dxwqr9sQ.js";import"./PlusIcon-4ob3L-3h.js";import"./EyeIcon-BKGeeMbF.js";import"./PrinterIcon-Ch-Iv2XI.js";import"./ArrowUturnLeftIcon-BoYc7Zey.js";import"./Modal-DCOq4Sqz.js";function te(a,y){return i(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})])}function Ce(a,y){return i(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}const $e={class:"mx-auto shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-yellow-400 sm:mx-0 sm:h-10 sm:w-10"},Se={class:"pb-12 space-y-12 divide-y-2"},Me={class:"py-4"},De=e("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Dados da entrega",-1),Ae=e("p",{class:"mt-1 text-sm leading-6 text-gray-600"},"Informe a data da entrega do serviço e, se o deadline for a menos de 4 dias da data da entrega, informe o motivo do atraso.",-1),Ee={class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"},Ne={class:"sm:col-span-6"},Ie=e("label",{for:"service-deadline",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"Data da entrega",-1),Te={class:"mt-2"},Oe=["max"],Pe={key:0,class:"text-red-500 text-sm"},Ve={key:0,class:"sm:col-span-6"},je=e("label",{for:"service-delay-reason",class:"block text-sm font-medium leading-6 text-gray-900"},"Motivo do Atraso",-1),Le={class:"mt-2"},Be={key:0,class:"text-red-500 text-sm"},Re={__name:"MotivoAtrasoModal",props:{showMotivoAtrasoModal:{type:Boolean,default:!0},service:{type:Object,default:null}},emits:["close","submit"],setup(a,{emit:y}){const _=y,s=a,f=()=>{_("close")},u=()=>{_("submit")},v=L(()=>{if(!s.service.completion_date||!s.service.deadline)return!1;const w=new Date(s.service.deadline+"T00:00:00"),l=new Date(s.service.completion_date+"T00:00:00"),x=w.getTime()-l.getTime();return Math.ceil(x/(1e3*60*60*24))<4}),b=L(()=>{var w;return v.value&&!((w=s.service.delay_reason)!=null&&w.length)});return(w,l)=>(i(),K(W,{show:a.showMotivoAtrasoModal,onClose:f},{icon:h(()=>[e("div",$e,[d(c(te),{class:"w-5 h-5 text-white"})])]),title:h(()=>[M(" Entregar serviço ")]),content:h(()=>[e("form",{onSubmit:Q(u,["prevent"])},[e("div",Se,[e("section",Me,[De,Ae,e("div",Ee,[e("div",Ne,[Ie,e("div",Te,[A(e("input",{type:"date",name:"service-completion-date",id:"service-completion-date",autocomplete:"on",class:"simple-input disabled:bg-gray-200",autofocus:"true",placeholder:"Data de entrega do serviço",max:c(C)(),"onUpdate:modelValue":l[0]||(l[0]=x=>a.service.completion_date=x),required:""},null,8,Oe),[[B,a.service.completion_date]]),a.service.errors.completion_date?(i(),r("p",Pe,m(a.service.errors.completion_date),1)):p("",!0)])]),v.value?(i(),r("div",Ve,[je,e("div",Le,[A(e("textarea",{type:"text",name:"service-delay-reason",id:"service-delay-reason",autocomplete:"on",class:"simple-input disabled:bg-gray-200",placeholder:"Descreva o motivo do atraso do serviço","onUpdate:modelValue":l[1]||(l[1]=x=>a.service.delay_reason=x)},null,512),[[B,a.service.delay_reason]]),a.service.errors.delay_reason?(i(),r("p",Be,m(a.service.errors.delay_reason),1)):p("",!0)])])):p("",!0)])])])],32)]),footer:h(()=>{var x,$;return[d(Y,{onClick:l[2]||(l[2]=E=>f())},{default:h(()=>[M(" Cancelar ")]),_:1}),d(X,{class:T({disabled:a.service.processing||!((x=a.service.completion_date)!=null&&x.length)||b.value}),disabled:a.service.processing||!(($=a.service.completion_date)!=null&&$.length)||b.value,onClick:l[3]||(l[3]=E=>u())},{default:h(()=>[M("Entregar")]),_:1},8,["class","disabled"])]}),_:1},8,["show"]))}},Ue={class:"mx-auto shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-400 sm:mx-0 sm:h-10 sm:w-10"},qe={class:"pb-12 space-y-12 divide-y-2"},ze={class:"py-4"},Fe={class:"text-base font-semibold leading-7 text-gray-900"},He=e("p",{class:"mt-1 text-sm leading-6 text-gray-600"},"Informe o motivo do cancelamento deste serviço",-1),Ze={class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"},Ge={class:"sm:col-span-6"},Je=e("label",{for:"service-delay-reason",class:"block text-sm font-medium leading-6 text-gray-900"},"Motivo do Cancelamento",-1),Ke={class:"mt-2"},Qe={key:0,class:"text-red-500 text-sm"},We={__name:"MotivoCancelamentoModal",props:{showMotivoCancelamentoModal:{type:Boolean,default:!0},service:{type:Object,default:null}},emits:["close","submit"],setup(a,{emit:y}){const _=y,s=()=>{_("close")},f=()=>{_("submit")};return(u,v)=>(i(),K(W,{show:a.showMotivoCancelamentoModal,onClose:s},{icon:h(()=>[e("div",Ue,[d(c(ee),{class:"w-5 h-5 text-white"})])]),title:h(()=>[M(" Cancelar serviço ")]),content:h(()=>[e("form",{onSubmit:Q(f,["prevent"])},[e("div",qe,[e("section",ze,[e("h2",Fe,m(a.service.title),1),He,e("div",Ze,[e("div",Ge,[Je,e("div",Ke,[A(e("textarea",{type:"text",name:"service-delay-reason",id:"service-delay-reason",autocomplete:"on",class:"simple-input disabled:bg-gray-200",placeholder:"Descreva o motivo do atraso do serviço","onUpdate:modelValue":v[0]||(v[0]=b=>a.service.cancellation_reason=b)},null,512),[[B,a.service.cancellation_reason]]),a.service.errors.cancellation_reason?(i(),r("p",Qe,m(a.service.errors.cancellation_reason),1)):p("",!0)])])])])])],32)]),footer:h(()=>{var b,w;return[d(Y,{onClick:v[1]||(v[1]=l=>s())},{default:h(()=>[M(" Cancelar ")]),_:1}),d(X,{class:T({disabled:a.service.processing||!((b=a.service.cancellation_reason)!=null&&b.length)}),disabled:a.service.processing||!((w=a.service.cancellation_reason)!=null&&w.length),onClick:v[2]||(v[2]=l=>f())},{default:h(()=>[M("Cancelar Serviço")]),_:1},8,["class","disabled"])]}),_:1},8,["show"]))}},Xe={class:"font-semibold text-xl text-gray-800 leading-tight"},Ye={key:0},et={class:"pt-12 print:hidden print:pt-0"},tt={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 print:w-full"},st={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-5"},ot={class:"flex flex-row items-center space-x-3"},at={class:"py-12 print:py-0"},nt={class:"max-w-7xl mx-auto print:max-w-full"},it={class:"w-full flex justify-end pb-3 print:hidden"},rt={class:"px-0 print:px-0"},lt={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg print:shadow-none"},ct={class:"flex flex-col"},dt={class:"overflow-x-auto sm:-mx-6 lg:-mx-8"},ut={class:"inline-block min-w-full py-2 sm:px-6 lg:px-8"},pt={class:"overflow-hidden"},mt={class:"min-w-full text-left text-sm font-light"},_t={class:"border-b font-medium"},ht=e("th",{scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center"}," #",-1),vt=e("th",{scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center"}," Prazo ",-1),xt=e("th",{scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center"}," Título ",-1),yt=e("th",{scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center"}," Cliente ",-1),wt=e("th",{scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center"}," À pagar ",-1),gt=e("th",{scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center"}," Valor total",-1),ft=e("th",{scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center print:hidden"}," Entrega ",-1),bt=e("th",{scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center"}," Status ",-1),kt=e("th",{scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center print:hidden",colspan:"5"},"Ações ",-1),Ct={key:0,scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center print:hidden"},$t={key:1,scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center print:hidden"},St={key:2,scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center print:hidden"},Mt={key:3,scope:"col",class:"px-6 py-4 print:px-3 print:py-2 text-center print:hidden"},Dt={class:"whitespace-nowrap py-4 text-center font-medium"},At={class:"whitespace-normal px-6 py-4 print:px-3 print:py-2 text-center trim"},Et=["title"],Nt={class:"whitespace-normal px-6 py-4 print:px-3 print:py-2 text-center"},It={class:"whitespace-nowrap px-2 py-4 text-center"},Tt={class:"whitespace-nowrap px-2 py-4 text-center"},Ot={class:"whitespace-nowrap px-2 py-4 text-center print:hidden"},Pt={class:"whitespace-nowrap px-2 py-4 text-center"},Vt=["value","onChange"],jt=["selected"],Lt=["selected"],Bt=["selected"],Rt=["title","onClick"],Ut=["title","onClick"],qt={key:0},zt={key:1,class:"m-auto text-center"},Ft=["title","onClick"],Ht=["title"],Zt=["href"],Gt=["title","onClick"],Jt={key:1,class:"whitespace-nowrap px-2 py-4 text-center print:hidden"},Kt={key:2,class:"whitespace-nowrap px-2 py-4 text-center print:hidden"},Qt={key:3,class:"whitespace-nowrap px-2 py-4 text-center print:hidden"},Wt={key:4,class:"whitespace-nowrap px-2 py-4 text-center print:hidden"},Xt={key:1,class:"transition duration-300 ease-in-out hover:bg-neutral-100 print:break-inside-avoid"},Yt=e("td",{class:"whitespace-nowrap px-6 py-4 print:px-3 print:py-2 text-center",colspan:"9"},"Não há serviços cadastrados no momento!",-1),es=[Yt],ws={__name:"Service",props:{page:Object,page_options:{type:Array,default:null},services_list:Object,sells_list:{type:Array,default:[]},show_service_id:{type:[String,Number],default:null}},setup(a){const y=a,_=me.useToast(),s=H({id:null,previous_id:null,title:"",client:"",total_value:0,partial_value:0,deadline:C(new Date(Date.now()+15*24*60*60*1e3),"new_date"),observations:"",service_status:"Não Iniciado",cancellation_reason:null,delay_reason:"",delayed:!1,completion_date:C(new Date,"new_date"),records_list:{enable_records:!1,data:[]}}),f=N(""),u=N(!1),v=L(()=>{const n=f.value.toLowerCase();return y.services_list.filter(o=>{var t,k,D,g,O,P,V,j;return((t=o.id)==null?void 0:t.toString().includes(n))||((k=o.motive)==null?void 0:k.toLowerCase().includes(n))||((D=o.entity_name)==null?void 0:D.toLowerCase().includes(n))||((g=o.observations)==null?void 0:g.toLowerCase().includes(n))||((O=I(o.accounting.total_value||0))==null?void 0:O.toString().toLowerCase().includes(n))||((P=I(o.accounting.partial_value||0))==null?void 0:P.toString().toLowerCase().includes(n))||((V=o.deadline)==null?void 0:V.includes(n))||((j=o.service_status)==null?void 0:j.toLowerCase().includes(n))})}),b=L(()=>y.services_list.reduce((n,o)=>n+o.accounting.partial_value,0)),w=n=>{const o=J(n);return o===0?"text-red-500":o>0&&o<8?"text-orange-500":o>7&&o<15?"text-yellow-500":o>14&&o<30?"text-green-500":"text-blue-500"},l=N({mode:"create",show:!1,get title(){switch(this.mode){case"create":return"Criar serviço";case"update":return"Editar serviço";case"pay":return"Pagar serviço";case"see":return"Ver informações do serviço"}},get primary_button_txt(){switch(this.mode){case"create":return"Cadastrar";case"update":return"Atualizar";case"pay":return"Pagar";case"see":return"Fechar"}}}),x=n=>{const o=y.services_list.find(t=>t.id===parseInt(n));if(o){const{id:t,previous_id:k,motive:D,entity_name:g,deadline:O,observations:P,cancellation_reason:V,delay_reason:j,delayed:de,completion_date:ts,records:z,accounting:F,service_status:ue}=o;s.id=t,s.previous_id=k,s.title=D,s.client=g,s.total_value=F.total_value,s.partial_value=F.partial_value,s.deadline=O,s.observations=P,s.service_status=ue,s.cancellation_reason=V,s.delay_reason=j,s.completion_date=C(new Date,"new_date"),s.delayed=de,s.records_list.enable_records=!!z.length,s.records_list.data=z.map(pe=>H(pe))}},$=(n,o=null)=>{const t=["update","pay"].includes(n);o!==null&&t?x(o):(s.reset(),s.deadline=C(new Date(Date.now()+15*24*60*60*1e3),"new_date"),s.service_status="Não Iniciado"),l.value.mode=n,l.value.show=!0},E=N(!1),se=(n,o)=>{if(o!==0){if(!confirm("O serviço será considerado como concluído e será listado apenas na página de pagamentos"))return}else if(!confirm("O serviço será considerado concluído e pago!"))return;x(n),l.value.mode="conclude",E.value=!0},R=N(!1),oe=n=>{x(n),l.value.mode="cancel",R.value=!0},S=()=>{s.reset(),l.value.show=!1,E.value=!1,R.value=!1,s.deadline=C(new Date(Date.now()+15*24*60*60*1e3),"new_date"),s.service_status="Não Iniciado"};_e(()=>{y.show_service_id&&$("update",y.show_service_id)});const ae=()=>{console.log("SERVIÇO: ",s),s.post(route("services.store"),{preserveScroll:!0,onSuccess:()=>{_.success("Serviço criado com sucesso!"),S()},onError:n=>{console.log(n)}})},ne=()=>{s.put(route("services.update",s.id),{preserveScroll:!0,onSuccess:()=>{_.success("Serviço alterado com sucesso!"),S()}})},ie=()=>{s.put(route("services.pay",s.id),{preserveScroll:!0,onSuccess:()=>{_.success("Serviço pago com sucesso!"),S()}})},re=()=>{s.put(route("services.conclude",s.id),{preserveScroll:!0,onSuccess:()=>{_.success("Serviço concluído com sucesso!"),S()},onError:n=>{console.log(n)}})},le=()=>{s.put(route("services.cancel",s.id),{preserveScroll:!0,onSuccess:()=>{_.success("Serviço cancelado com sucesso!"),S()},onError:n=>{console.log(n)}})},ce=(n,o)=>{const t=o.target.value;G.put(route("services.change-status",n),{service_status:t},{preserveScroll:!0,onSuccess:()=>{_.success("Status alterado com sucesso!"),G.reload({only:["services_list"]})},onError:k=>{console.log(k),_.error("Erro ao alterar status!")}})},U=()=>{switch(l.value.mode){case"create":return ae();case"update":return ne();case"pay":return ie();case"conclude":return re();case"cancel":return le();default:_.error("Método desconhecido. Informar o Técnico.")}};return(n,o)=>(i(),r(Z,null,[d(c(he),{title:a.page.name},null,8,["title"]),d(ye,{page:a.page,page_options:a.page_options},{header:h(()=>[e("h2",Xe,[M(m(a.page.name)+" ",1),n.$page.props.auth.user.hierarchy<2?(i(),r("span",Ye,"| "+m(c(I)(b.value)),1)):p("",!0)]),d(ge,{icon:"plus",onClick:o[0]||(o[0]=t=>$("create")),title:"Cadastrar Service",class:"print:hidden"})]),default:h(()=>[e("div",et,[e("div",tt,[e("div",st,[e("div",ot,[d(c(ke),{class:"w-5 y-5"}),A(e("input",{type:"text",name:"search_term",id:"search_term",autocomplete:"on",class:"simple-input",autofocus:"true",placeholder:"Pesquisar termo...","onUpdate:modelValue":o[1]||(o[1]=t=>f.value=t)},null,512),[[B,f.value]])])])])]),e("div",at,[e("div",nt,[e("div",it,[u.value?p("",!0):(i(),r("button",{key:0,class:"text-blue-500 text-xs justify-end",onClick:o[2]||(o[2]=t=>u.value=!u.value)},"Mostrar dados de usuário")),u.value?(i(),r("button",{key:1,class:"text-red-500 text-xs justify-end",onClick:o[3]||(o[3]=t=>u.value=!u.value)},"Esconder dados de usuário")):p("",!0)]),e("div",rt,[e("div",lt,[e("div",ct,[e("div",dt,[e("div",ut,[e("div",pt,[e("table",mt,[e("thead",_t,[e("tr",null,[ht,vt,xt,yt,wt,gt,ft,bt,kt,u.value?(i(),r("th",Ct,"Criado em")):p("",!0),u.value?(i(),r("th",$t,"Criado por")):p("",!0),u.value?(i(),r("th",St," Modificado em")):p("",!0),u.value?(i(),r("th",Mt," Modificado por ")):p("",!0)])]),e("tbody",null,[v.value.length?(i(!0),r(Z,{key:0},ve(v.value,t=>{var k,D;return i(),r("tr",{key:t.id,class:"border-b transition duration-300 ease-in-out hover:bg-neutral-100 print:break-inside-avoid"},[e("td",Dt,m(t.id),1),e("td",{class:T(["whitespace-nowrap py-4 text-center font-medium",w(t.deadline)])},m(c(J)(t.deadline))+" dias ",3),e("td",At,[M(m(t.motive)+" ",1),t.observations?(i(),r("span",{key:0,title:t.observations,class:"inline-flex items-center rounded-md bg-gray-50 px-2 py-1 text-xs font-medium text-gray-600 ring-1 ring-inset ring-gray-500/10 cursor-help"},"OBS",8,Et)):p("",!0)]),e("td",Nt,m(t.entity_name),1),e("td",It,m(c(I)(t.accounting.partial_value)),1),e("td",Tt,m(c(I)(t.accounting.total_value)),1),e("td",Ot,m(c(C)(t.deadline,!0)),1),e("td",Pt,[e("select",{class:T(["print:hidden pl-1 pr-7 py-0.5 rounded-full text-xs",{"text-blue-500 border-blue-500":t.service_status==="Não Iniciado","text-yellow-500 border-yellow-500":t.service_status==="Em Andamento","text-orange-500 border-orange-500":t.service_status==="Pausado"}]),value:t.service_status,onChange:g=>ce(t.id,g)},[A(e("option",{value:"Não Iniciado",selected:t.service_status==="Não Iniciado",class:"text-blue-500"}," Não Iniciado ",8,jt),[[q,t.service_status!=="Não Iniciado"]]),A(e("option",{value:"Em Andamento",selected:t.service_status==="Em Andamento",class:"text-yellow-500"},"Em Andamento ",8,Lt),[[q,t.service_status!=="Em Andamento"]]),A(e("option",{value:"Pausado",selected:t.service_status==="Pausado",class:"text-orange-500"}," Pausado",8,Bt),[[q,t.service_status!=="Pausado"]])],42,Vt),e("label",{class:T(["hidden print:block",{"text-blue-500":t.service_status==="Não Iniciado","text-yellow-500":t.service_status==="Em Andamento","text-orange-500":t.service_status==="Pausado"}])},m(t.service_status),3)]),e("td",{class:"whitespace-nowrap px-4 py-4 pl-10 text-center cursor-pointer hover:text-blue-700 active:text-blue-900 select-none print:hidden",title:"CONCLUIR: "+t.motive+"("+t.entity_name+")",onClick:g=>se(t.id,t.accounting.partial_value)},[d(c(te),{class:"w-4 h-4 m-auto"})],8,Rt),e("td",{class:"whitespace-nowrap px-4 py-4 text-center cursor-pointer hover:text-green-700 active:text-green-900 select-none print:hidden",title:"PAGAR: "+t.motive+"("+t.entity_name+")",onClick:g=>$("pay",t.id)},[t.accounting.partial_value!==0?(i(),r("span",qt,[d(c(xe),{class:"w-4 h-4 m-auto"})])):(i(),r("span",zt,"PAGO"))],8,Ut),e("td",{class:"whitespace-nowrap px-4 py-4 text-center cursor-pointer hover:text-yellow-700 active:text-yellow-900 select-none print:hidden",title:"EDITAR: "+t.motive+"("+t.entity_name+")",onClick:g=>$("update",t.id)},[d(c(be),{class:"w-4 h-4 m-auto"})],8,Ft),e("td",{title:"ORÇAMENTO DE "+t.motive+"("+t.entity_name+")",class:"whitespace-nowrap px-4 py-4 text-center cursor-pointer hover:text-sky-700 active:text-sky-900 select-none print:hidden"},[(k=t.budget)!=null&&k.id?(i(),r("a",{key:0,href:n.route("budgets.show",t.budget.id),target:"_blank",class:""},[d(c(Ce),{class:"w-4 h-4 m-auto"})],8,Zt)):p("",!0)],8,Ht),n.$page.props.auth.user.hierarchy<2?(i(),r("td",{key:0,class:"whitespace-nowrap px-4 py-4 text-center cursor-pointer hover:text-red-700 active:text-red-900 select-none print:hidden",title:"CANCELAR: "+t.motive+"("+t.entity_name+")",onClick:g=>oe(t.id)},[d(c(ee),{class:"w-4 h-4 m-auto"})],8,Gt)):p("",!0),u.value?(i(),r("td",Jt,m(c(C)(t.created_at,"reading_date_time")),1)):p("",!0),u.value?(i(),r("td",Kt,m(t.procedures[0].user.name),1)):p("",!0),u.value?(i(),r("td",Qt,m(c(C)(t.updated_at,"reading_date_time")),1)):p("",!0),u.value?(i(),r("td",Wt,m(t.procedures[((D=t.procedures)==null?void 0:D.length)-1].user.name),1)):p("",!0)])}),128)):(i(),r("tr",Xt,es))])])])])])])])])])]),d(we,{show:l.value.show,modal:l.value,service:c(s),sells_list:a.sells_list,onSubmit:U,onClose:S},null,8,["show","modal","service","sells_list"]),d(Re,{show:E.value,service:c(s),onSubmit:U,onClose:S},null,8,["show","service"]),d(We,{show:R.value,service:c(s),onSubmit:U,onClose:S},null,8,["show","service"]),d(fe,{mode:["rollup","print_page","link"],link_type:["previous"],link:[n.route("services.previous")]},null,8,["link"])]),_:1},8,["page","page_options"])],64))}};export{ws as default};
