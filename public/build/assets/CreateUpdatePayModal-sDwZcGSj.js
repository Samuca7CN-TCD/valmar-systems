import{d as L,l as f,q as W,p as G,C as H,o as s,e as a,s as x,v as b,a as e,i as B,F,g as X,t as u,h as d,T as J,c as D,w as C,n as z,u as n,f as T,b as j,x as O}from"./app-CZNGPDIC.js";import{_ as K}from"./CreateUpdateModal-DgLUF8r5.js";import{_ as Q}from"./PrimaryButton-Cq1S_GpN.js";import{_ as Y}from"./SecondaryButton-CJeDEe54.js";import{f as $,i as Z,t as A,h as ee}from"./general-BfW9S8hN.js";import{r as te}from"./PlusIcon-D7bPf2V-.js";import{r as se,a as oe}from"./XMarkIcon-DRQWzs1z.js";import{r as ae}from"./AppLayout-CI1BKOvz.js";import{r as le}from"./EyeIcon-fryRwgv_.js";const de={class:"relative dropdown-container"},ie=["disabled"],re={key:0,class:"absolute w-full mt-2 bg-white border rounded shadow-md max-h-40 overflow-y-auto z-10"},ne=["onClick"],ce={key:0},ue={class:"flex gap-2 justify-between"},me={class:"flex gap-2"},ve={class:"font-bold text-gray-800"},_e={class:"text-gray-600"},he={class:"text-gray-600 justify-end"},xe={class:"text-gray-600"},pe={key:1},ye=e("div",{class:"flex gap-2"},[e("div",{class:"text-gray-600"},"Nenhuma venda relacionada")],-1),be=[ye],ge={key:0,class:"px-4 py-2 text-gray-500"},fe={__name:"SelectSearchSell",props:{options:{type:Array,required:!0,default:()=>[]},disable_services_inputs:{type:Boolean,default:!0},initialValue:{type:Number,default:null}},emits:["update:modelValue"],setup(t,{emit:P}){const p=t,c=P,g=L(""),_=L(!1),w=L(p.options.find(r=>r.id===p.initialValue)),q=()=>{_.value=!0},N=()=>{_.value=!1},y=r=>{var m,v;r&&r.id!==null?(g.value=`#${r.id} ${r.entity_name||"N/A"} | R$ ${((v=(m=r.accounting)==null?void 0:m.total_value)==null?void 0:v.toFixed(2))||"0.00"} (${r.date?new Date(r.date).toLocaleDateString():"N/A"})`,w.value=r.id):(g.value="",w.value=null)},U=r=>{typeof r=="string"?(g.value=r,w.value=null):(y(r!=null&&r.id?r:null),N()),c("update:modelValue",w.value)},k=f(()=>{const r=p.options.filter(m=>m.motive&&m.motive.toLowerCase().includes(g.value.toLowerCase())||m.entity_name&&m.entity_name.toLowerCase().includes(g.value.toLowerCase())||String(m.id).includes(g.value));return[{id:null,entity_name:"Nenhuma venda relacionada",motive:null,date:null,accounting:{total_value:0}},...r]}),i=r=>{r.target.closest(".dropdown-container")||N()};return W(()=>{if(document.addEventListener("click",i),p.initialValue!==null&&p.initialValue!==void 0){const r=p.options.find(m=>m.id===p.initialValue);r&&(y(r),c("update:modelValue",r.id))}}),G(()=>p.initialValue,r=>{if(r!=null){const m=p.options.find(v=>v.id===r);m&&(y(m),c("update:modelValue",m.id))}else y(null)}),H(()=>{document.removeEventListener("click",i)}),(r,m)=>(s(),a("div",de,[x(e("input",{"onUpdate:modelValue":m[0]||(m[0]=v=>g.value=v),onFocus:q,onClick:m[1]||(m[1]=B(()=>{},["stop"])),onInput:m[2]||(m[2]=v=>U(v.target.value)),disabled:t.disable_services_inputs,class:"simple-input disabled:bg-gray-200",type:"text",placeholder:"Selecione ou escreva o ID, cliente ou motivo da venda"},null,40,ie),[[b,g.value]]),_.value?(s(),a("ul",re,[(s(!0),a(F,null,X(k.value,(v,R)=>(s(),a("li",{key:R,onClick:S=>U(v),class:"px-4 py-2 space-y-1 cursor-pointer hover:bg-gray-200 text-sm"},[v.id!==null?(s(),a("div",ce,[e("div",ue,[e("div",me,[e("div",ve,"#"+u(v.id),1),e("div",_e,u(v.entity_name||"N/A"),1)]),e("div",he,u(v.date?new Date(v.date).toLocaleDateString():"N/A"),1)]),e("div",xe,"R$"+u(v.accounting?v.accounting.total_value.toFixed(2):"0.00"),1)])):(s(),a("div",pe,be))],8,ne))),128)),k.value.length===0?(s(),a("li",ge," Nenhuma opção encontrada ")):d("",!0)])):d("",!0)]))}},we={class:"pb-12 space-y-12 divide-y-2"},ke={class:"py-4"},$e=e("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Informações Básicas",-1),Ve=e("p",{class:"mt-1 text-sm leading-6 text-gray-600"},"Informações sobre o serviço como título do serviço, nome do cliente, valores de pagamento e prazo para conclusão",-1),De={class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"},Ce={class:"sm:col-span-6"},qe=e("label",{for:"service-title",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"Título",-1),Ue={class:"mt-2"},Ne=["disabled"],Se={key:0,class:"text-red-500 text-sm"},ze={class:"sm:col-span-3"},Ae=e("label",{for:"service-client",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"Cliente",-1),Le={class:"mt-2"},Pe=["disabled"],Re={key:0,class:"text-red-500 text-sm"},Te={class:"sm:col-span-3"},je=e("label",{for:"service-total-amount",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"Valor total",-1),Ee={class:"mt-2"},Ie=["disabled"],Me={key:0,class:"text-red-500 text-sm"},Oe={class:"sm:col-span-6"},Be=e("label",{for:"service-deadline",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"Prazo para conclusão",-1),Fe={class:"mt-2"},Xe=["min","disabled"],We={key:0,class:"text-red-500 text-sm"},Ge={key:0,class:"sm:col-span-6"},He=e("label",{for:"service-delay-reason",class:"block text-sm font-medium leading-6 text-gray-900"},"Motivo do Atraso",-1),Je={class:"mt-2"},Ke=["disabled"],Qe={key:0,class:"text-red-500 text-sm"},Ye={class:"sm:col-span-6"},Ze=e("label",{for:"service-observations",class:"block text-sm font-medium leading-6 text-gray-900"},"Observações",-1),et={class:"mt-2"},tt=["disabled"],st={key:0,class:"text-red-500 text-sm"},ot={class:"sm:col-span-6"},at=e("label",{for:"service-sell",class:"block text-sm font-medium leading-6 text-gray-900"},"Venda relacionada",-1),lt={class:"mt-2"},dt={key:0,class:"text-red-500 text-sm"},it={key:0,class:"py-4"},rt={class:"sm:col-span-6"},nt=["title"],ct={class:"flex h-6 items-center"},ut=["disabled"],mt={class:"text-sm leading-6"},vt={key:1,class:"py-4"},_t={key:0},ht=e("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Pagamentos concluídos",-1),xt=e("p",{class:"mt-1 text-sm leading-6 text-gray-600"},"Insira o adiantamento ou os serviços parciais já realizando desta título",-1),pt=[ht,xt],yt={key:1},bt=e("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Lista de pagamentos concluídos ",-1),gt=e("p",{class:"mt-1 text-sm leading-6 text-gray-600"},"Abaixo está listado os registros de serviços realizados. Para adicionar novos serviços, ou remover algum serviço existente, entre na seção de serviço.",-1),ft=[bt,gt],wt={key:2},kt=e("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Realize um novo pagamento",-1),$t=e("p",{class:"mt-1 text-sm leading-6 text-gray-600"},"Adicione um serviço ou remova um serviço existente.",-1),Vt=[kt,$t],Dt={key:3},Ct=e("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Veja a lista de pagamentos realizados",-1),qt=e("p",{class:"mt-1 text-sm leading-6 text-gray-600"},"Abaixo segue a lista dos pagamentos concluídos deste serviço",-1),Ut=[Ct,qt],Nt={key:4,class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-4 sm:grid-cols-6"},St={class:"col-span-2"},zt=e("label",{for:"record-amount",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"Valor (R$)",-1),At={class:"mt-2"},Lt=["max","disabled"],Pt={class:"text-gray-400 text-xs py-1"},Rt={key:0,class:"text-red-500 text-sm"},Tt={class:"sm:col-span-2"},jt=e("label",{for:"record-date",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"Data do serviço",-1),Et={class:"mt-2"},It=["max","disabled"],Mt=e("p",{class:"text-gray-400 text-xs py-1"},"Não aceita datas no futuro",-1),Ot={key:0,class:"text-red-500 text-sm"},Bt={class:"sm:col-span-2"},Ft=e("label",{for:"record-date",class:"block text-sm font-medium leading-6 text-gray-900 required-input-label"},"Forma de Pagamento",-1),Xt={class:"mt-2"},Wt=e("option",{value:"pix"},"PIX",-1),Gt=e("option",{value:"dinheiro"},"Dinheiro",-1),Ht=e("option",{value:"cartao_credito"},"Cartão de Crédito",-1),Jt=e("option",{value:"cartao_debito"},"Cartão de Débito",-1),Kt=e("option",{value:"ted"},"TED",-1),Qt=e("option",{value:"cheque"},"Cheque",-1),Yt=[Wt,Gt,Ht,Jt,Kt,Qt],Zt={key:0,class:"text-red-500 text-sm"},es={key:5,class:"w-full py-5 flex justify-end"},ts=["disabled"],ss={key:6,class:"flex flex-col"},os={class:"overflow-x-auto sm:-mx-6 lg:-mx-8"},as={class:"inline-block min-w-full py-2 sm:px-6 lg:px-8"},ls={class:"overflow-hidden"},ds={class:"min-w-full text-left text-sm font-light"},is={class:"border-b bg-white font-medium"},rs=e("th",{scope:"col",class:"px-6 py-4 text-center"},"Valor",-1),ns=e("th",{scope:"col",class:"px-6 py-4 text-center"},"Data",-1),cs=e("th",{scope:"col",class:"px-6 py-4 text-center"},"Método de Pagamento ",-1),us={key:0,scope:"col",class:"px-6 py-4 text-center"},ms={key:1,scope:"col",class:"px-6 py-4 text-center"},vs={class:"border-b bg-white"},_s={class:"whitespace-nowrap px-1 text-center"},hs={key:0,class:"w-full relative flex flex-wrap items-stretch"},xs=e("span",{class:"w-1/4 select-none flex items-center whitespace-nowrap rounded-l border border-r-0 border-solid border-neutral-300 px-1 py-[0.25rem] text-center text-xs font-normal leading-[1.6] text-neutral-700",id:"basic-addon1"},"R$",-1),ps=["max","onUpdate:modelValue"],ys={key:1},bs={class:"whitespace-nowrap px-1 py-4 text-center"},gs={key:0,class:"w-full relative flex flex-wrap items-stretch"},fs=["max","onUpdate:modelValue"],ws={key:1},ks={class:"whitespace-nowrap px-1 py-4 text-center"},$s={key:0,class:"w-full relative flex flex-wrap items-stretch"},Vs=["onUpdate:modelValue"],Ds=e("option",{value:"pix"},"PIX",-1),Cs=e("option",{value:"dinheiro"},"Dinheiro",-1),qs=e("option",{value:"cartao_credito"},"Cartão de Crédito ",-1),Us=e("option",{value:"cartao_debito"},"Cartão de Débito",-1),Ns=e("option",{value:"ted"},"TED",-1),Ss=e("option",{value:"cheque"},"Cheque",-1),zs=[Ds,Cs,qs,Us,Ns,Ss],As={key:1},Ls={key:0,class:"whitespace-nowrap px-6 py-4 select-none"},Ps={key:1,class:"whitespace-nowrap px-6 py-4 select-none"},Rs={key:2,class:"text-red-500 text-sm"},Ts={key:3,class:"text-red-500 text-sm"},js={key:0,class:"text-red-500 text-sm py-5 text-center"},Es={key:1,class:"text-red-500 text-sm py-5 text-center"},Is={key:2,class:"text-red-500 text-sm py-5 text-center"},Ms={key:7,class:"py-5 text-gray-400 text-center"},Qs={__name:"CreateUpdatePayModal",props:{modal:Object,service:{type:Object,default:null},sells_list:{type:Array,default:[]}},emits:["close","submit"],setup(t,{emit:P}){const p=P,c=t,g=f(()=>c.service.records_list.data.length+1),_=f(()=>U&&c.service.total_value-c.service.records_list.data.reduce((h,l)=>h+l.amount,0)),w=f(()=>{const h=new Date;return c.service.records_list.data.some(l=>new Date(l.date)>h)}),q=f(()=>c.service.records_list.data.some(h=>h.amount<=0)),N=f(()=>c.service.records_list.data.sort((h,l)=>new Date(h.date)-new Date(l.date))),y=f(()=>c.modal.mode==="pay"||c.modal.mode==="see"),U=f(()=>c.modal.mode!=="create"||c.service.records_list.enable_records),k=f(()=>c.service.title.length&&c.service.client.length&&c.service.total_value>0),i=J({id:g,amount:0,past:!1,register_date:$(),payment_method:"cartao_credito",filepath:null}),r=L(!1),m=()=>{if(c.service.records_list.enable_records&&c.service.records_list.data.length)if(confirm("Tem certeza que deseja desmarcar? Todos os registros serão excluídos!"))c.service.records_list.data.length=[],i.reset();else return;c.service.records_list.enable_records=!c.service.records_list.enable_records},v=()=>{if(!i.amount||i.amount>_.value){i.errors.amount=`O valor do registro deve ser maior que R$ 0,00 e menor que ${A(_.value)}`;return}if(i.errors.amount="",!i.register_date||new Date(i.register_date)>new Date){i.errors.date=`A data do registro deve ser menor ou igual a ${$()}`;return}if(i.errors.date="",!i.payment_method){i.errors.payment_method="Um método de pagamento deve ser selecionado";return}i.errors.payment_method="",r.value||(i.filepath=null),c.service.records_list.data.push({...i}),r.value=!1,i.reset()},R=(h,l=null)=>{if(c.modal.mode==="create"){c.service.records_list.data=c.service.records_list.data.filter(o=>o.id!==h);return}else confirm("Você tem certeza que deseja excluir esse registro? (Essa ação não pode ser desfeita)")&&l.delete(route("records.destroy",h),{preserveScroll:!0,onSuccess:()=>{c.service.records_list.data=c.service.records_list.data.filter(o=>o.id!==h)}})},S=()=>{p("close")},E=()=>{p("submit")};return(h,l)=>(s(),D(K,{show:t.modal.show,onClose:S},{icon:C(()=>[e("div",{class:z(["mx-auto shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-400 sm:mx-0 sm:h-10 sm:w-10",{"bg-yellow-400":t.modal.mode==="update","bg-green-400":t.modal.mode==="pay","bg-gray-400":t.modal.mode==="see"}])},[t.modal.mode==="create"?(s(),D(n(te),{key:0,class:"w-5 h-5 text-white"})):d("",!0),t.modal.mode==="update"?(s(),D(n(se),{key:1,class:"w-5 h-5 text-white"})):d("",!0),t.modal.mode==="pay"?(s(),D(n(ae),{key:2,class:"w-5 h-5 text-white"})):d("",!0),t.modal.mode==="see"?(s(),D(n(le),{key:3,class:"w-5 h-5 text-white"})):d("",!0)],2)]),title:C(()=>[T(u(t.modal.title),1)]),content:C(()=>[e("form",{onSubmit:B(E,["prevent"])},[e("div",we,[e("section",ke,[$e,Ve,e("div",De,[e("div",Ce,[qe,e("div",Ue,[x(e("input",{type:"text",name:"service-title",id:"service-title",autocomplete:"on",class:"simple-input disabled:bg-gray-200",autofocus:"true",placeholder:"Título da título",disabled:y.value,"onUpdate:modelValue":l[0]||(l[0]=o=>t.service.title=o),required:""},null,8,Ne),[[b,t.service.title]]),t.service.errors.title?(s(),a("p",Se,u(t.service.errors.title),1)):d("",!0)])]),e("div",ze,[Ae,e("div",Le,[x(e("input",{type:"text",name:"service-client",id:"service-client",autocomplete:"on",class:"simple-input disabled:bg-gray-200",placeholder:"Nome do cliente",disabled:y.value,"onUpdate:modelValue":l[1]||(l[1]=o=>t.service.client=o),required:""},null,8,Pe),[[b,t.service.client]]),t.service.errors.client?(s(),a("p",Re,u(t.service.errors.client),1)):d("",!0)])]),e("div",Te,[je,e("div",Ee,[x(e("input",{id:"service-total-amount",name:"service-total-amount",type:"number",step:"0.01",min:"0",autocomplete:"off",class:"simple-input disabled:bg-gray-200",placeholder:"Valor total inicial da título",disabled:y.value,"onUpdate:modelValue":l[2]||(l[2]=o=>t.service.total_value=o),required:""},null,8,Ie),[[b,t.service.total_value]]),t.service.errors.total_value?(s(),a("p",Me,u(t.service.errors.total_value),1)):d("",!0)])]),e("div",Oe,[Be,e("div",Fe,[x(e("input",{type:"date",name:"service-deadline",id:"service-deadline",autocomplete:"on",class:"simple-input disabled:bg-gray-200",autofocus:"true",placeholder:"Prazo para conclusão",min:n($)(),disabled:y.value||t.modal.mode!=="create","onUpdate:modelValue":l[3]||(l[3]=o=>t.service.deadline=o),required:""},null,8,Xe),[[b,t.service.deadline]]),t.service.errors.deadline?(s(),a("p",We,u(t.service.errors.deadline),1)):d("",!0)])]),t.modal.mode!=="create"&&n(Z)(t.service.deadline)<4?(s(),a("div",Ge,[He,e("div",Je,[x(e("textarea",{type:"text",name:"service-delay-reason",id:"service-delay-reason",autocomplete:"on",class:"simple-input disabled:bg-gray-200",placeholder:"Descreva o motivo do atraso do serviço",disabled:y.value,"onUpdate:modelValue":l[4]||(l[4]=o=>t.service.delay_reason=o)},null,8,Ke),[[b,t.service.delay_reason]]),t.service.errors.delay_reason?(s(),a("p",Qe,u(t.service.errors.delay_reason),1)):d("",!0)])])):d("",!0),e("div",Ye,[Ze,e("div",et,[x(e("textarea",{type:"text",name:"service-observations",id:"service-observations",autocomplete:"on",class:"simple-input disabled:bg-gray-200",placeholder:"Descreva a título mais detalhadamente ou insira informações adicionais",disabled:y.value,"onUpdate:modelValue":l[5]||(l[5]=o=>t.service.observations=o)},null,8,tt),[[b,t.service.observations]]),t.service.errors.observations?(s(),a("p",st,u(t.service.errors.observations),1)):d("",!0)])]),e("div",ot,[at,e("div",lt,[j(fe,{options:t.sells_list,"onUpdate:modelValue":l[6]||(l[6]=o=>t.service.previous_id=o),disable_services_inputs:y.value,initialValue:t.service.previous_id},null,8,["options","disable_services_inputs","initialValue"]),t.service.errors.previous_id?(s(),a("p",dt,u(t.service.errors.previous_id),1)):d("",!0)])])])]),t.modal.mode==="create"?(s(),a("section",it,[e("div",rt,[e("div",{class:"mt-2 relative flex gap-x-3",title:k.value?"":"Preencha ao menos a título, o cliente e o valor total."},[e("div",ct,[e("input",{id:"service-enable-records",name:"service-enable-records",type:"checkbox",onChange:l[7]||(l[7]=o=>m()),disabled:!k.value,class:"h-4 w-4 rounded border-gray-300 text-green-600 focus:ring-green-600 disabled:border-gray-100 disabled:text-green-200 disabled:bg-gray-300"},null,40,ut)]),e("div",mt,[e("label",{for:"service-enable-records",class:z(["font-medium text-gray-900 select-none cursor-pointer",{"text-gray-300":!k.value,"cursor-not-allowed":!k.value}])},"Adicionar pagamentos concluídos",2)])],8,nt)])])):d("",!0),U.value?(s(),a("section",vt,[t.modal.mode==="create"?(s(),a("div",_t,pt)):d("",!0),t.modal.mode==="update"?(s(),a("div",yt,ft)):d("",!0),t.modal.mode==="pay"?(s(),a("div",wt,Vt)):d("",!0),t.modal.mode==="see"?(s(),a("div",Dt,Ut)):d("",!0),t.modal.mode!=="update"&&t.modal.mode!=="see"?(s(),a("div",Nt,[e("div",St,[zt,e("div",At,[x(e("input",{id:"record-amount",name:"record-amount",type:"number",step:"0.01",min:"0",max:_.value,autocomplete:"off",class:"simple-input disabled:bg-gray-200 disabled:opacity-75",disabled:_.value==0,placeholder:"Valor do serviço parcial","onUpdate:modelValue":l[8]||(l[8]=o=>n(i).amount=o)},null,8,Lt),[[b,n(i).amount]]),e("p",Pt,"Valor Restante: "+u(n(A)(_.value)),1),n(i).errors.amount?(s(),a("p",Rt,u(n(i).errors.amount),1)):d("",!0)])]),e("div",Tt,[jt,e("div",Et,[x(e("input",{id:"record-date",name:"record-date",type:"date",max:n($)(),autocomplete:"off",class:"simple-input disabled:bg-gray-200",disabled:_.value==0,placeholder:"Data de serviço do valor parcial","onUpdate:modelValue":l[9]||(l[9]=o=>n(i).register_date=o)},null,8,It),[[b,n(i).register_date]]),Mt,n(i).errors.register_date?(s(),a("p",Ot,u(n(i).errors.register_date),1)):d("",!0)])]),e("div",Bt,[Ft,e("div",Xt,[x(e("select",{name:"payment_method",class:"simple-input","onUpdate:modelValue":l[10]||(l[10]=o=>n(i).payment_method=o)},Yt,512),[[O,n(i).payment_method]]),n(i).errors.payment_method?(s(),a("p",Zt,u(n(i).errors.payment_method),1)):d("",!0)])])])):d("",!0),t.modal.mode!=="update"&&t.modal.mode!=="see"?(s(),a("div",es,[e("button",{type:"button",class:"w-full px-4 py-2 bg-blue-600 border border-gray-300 rounded-md font-semibold text-xs text-white uppercase tracking-widest shadow-sm hover:bg-blue-700 focus:outline-none focus:border-blue-300 focus:ring focus:ring-blue-200 active:text-gray-800 active:bg-gray-50 disabled:opacity-25 transition",disabled:!n(i).amount||!n(i).register_date||!n(i).payment_method||n(i).amount>_.value,onClick:l[11]||(l[11]=o=>v())}," Inserir registro ",8,ts)])):d("",!0),t.service.records_list.data.length?(s(),a("div",ss,[e("div",os,[e("div",as,[e("div",ls,[e("table",ds,[e("thead",is,[e("tr",null,[rs,ns,cs,t.modal.mode!=="create"?(s(),a("th",us,"Usuário")):d("",!0),t.modal.mode!=="pay"&&t.modal.mode!=="see"?(s(),a("th",ms,"Excluir")):d("",!0)])]),e("tbody",null,[(s(!0),a(F,null,X(N.value,o=>{var I,M;return s(),a("tr",vs,[e("td",_s,[t.modal.mode!=="update"&&!o.past?(s(),a("div",hs,[xs,x(e("input",{id:"record_item-amount-edit",name:"record_item-amount-edit",type:"number",step:"0.01",min:"0",max:_.value,autocomplete:"off",class:"relative m-0 block min-w-0 flex-auto rounded-r border border-solid border-neutral-300 bg-transparent bg-clip-padding px-1 py-[0.25rem] text-xs font-normal leading-[1.6] text-neutral-700 outline-none transition duration-200 ease-in-out focus:z-[3] focus:border-primary focus:text-neutral-700 focus:shadow-[inset_0_0_0_1px_rgb(59,113,202)] focus:outline-none disabled:bg-gray-200",placeholder:"Editar serviço parcial","onUpdate:modelValue":V=>o.amount=V},null,8,ps),[[b,o.amount]])])):(s(),a("p",ys,u(n(A)(o.amount)),1))]),e("td",bs,[t.modal.mode!=="update"&&!o.past?(s(),a("div",gs,[x(e("input",{id:"record-date",name:"record-date",type:"date",max:n($)(),autocomplete:"off",class:"w-full relative m-0 block min-w-0 flex-auto rounded-r border border-solid border-neutral-300 bg-transparent bg-clip-padding px-1 py-[0.25rem] text-xs font-normal leading-[1.6] text-neutral-700 outline-none transition duration-200 ease-in-out focus:z-[3] focus:border-primary focus:text-neutral-700 focus:shadow-[inset_0_0_0_1px_rgb(59,113,202)] focus:outline-none disabled:bg-gray-200",placeholder:"Data de serviço do valor parcial","onUpdate:modelValue":V=>o.register_date=V},null,8,fs),[[b,o.register_date]])])):(s(),a("p",ws,u(n($)(o.register_date,!0)),1))]),e("td",ks,[t.modal.mode!=="update"&&!o.past?(s(),a("div",$s,[x(e("select",{name:"payment_method",class:"w-full relative m-0 block min-w-0 flex-auto rounded-r border border-solid border-neutral-300 bg-transparent bg-clip-padding px-1 py-[0.25rem] text-xs font-normal leading-[1.6] text-neutral-700 outline-none transition duration-200 ease-in-out focus:z-[3] focus:border-primary focus:text-neutral-700 focus:shadow-[inset_0_0_0_1px_rgb(59,113,202)] focus:outline-none disabled:bg-gray-200","onUpdate:modelValue":V=>o.payment_method=V},zs,8,Vs),[[O,o.payment_method]])])):(s(),a("p",As,u(n(ee)(o.payment_method)),1))]),t.modal.mode!=="create"?(s(),a("td",Ls,u(((M=(I=o==null?void 0:o.procedure)==null?void 0:I.user)==null?void 0:M.name)||h.$page.props.auth.user.name||"Não identificado"),1)):d("",!0),t.modal.mode!=="pay"&&t.modal.mode!=="see"?(s(),a("td",Ps,[j(n(oe),{class:"w-5 h-5 cursor-pointer m-auto text-gray-700 hover:text-red-500 active:text-red-700",onClick:V=>R(o.id,o),title:"Remover este registro"},null,8,["onClick"])])):d("",!0),o.errors.amount?(s(),a("p",Rs,u(o.errors.amount),1)):d("",!0),o.errors.date?(s(),a("p",Ts,u(o.errors.date),1)):d("",!0)])}),256))])]),_.value<0?(s(),a("p",js,"A soma dos serviços não pode ser maior que "+u(n(A)(t.service.total_value)),1)):d("",!0),w.value?(s(),a("p",Es," Todas as datas de registro devem ser não nulas e menores ou iguais a "+u(n($)(new Date)),1)):d("",!0),q.value?(s(),a("p",Is," Todos os valores devem ser maiores que R$ 0,00")):d("",!0)])])])])):(s(),a("div",Ms,"Não há registro de pagamento no momento. "))])):d("",!0)])],32)]),footer:C(()=>[t.modal.mode!=="see"?(s(),D(Y,{key:0,class:z({disabled:t.service.processing}),onClick:l[12]||(l[12]=o=>S())},{default:C(()=>[T(" Cancelar ")]),_:1},8,["class"])):d("",!0),j(Q,{class:z({disabled:t.service.processing||_.value<0||w.value||q.value}),disabled:t.service.processing||_.value<0||w.value||q.value,onClick:l[13]||(l[13]=o=>t.modal.mode==="see"?S():E())},{default:C(()=>[T(u(t.modal.primary_button_txt),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"]))}};export{Qs as _};
